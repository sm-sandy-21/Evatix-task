{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n/* eslint-disable react/no-array-index-key */\n\n\nimport React, { Component, Fragment } from 'react';\nimport { findDOMNode } from 'react-dom';\nimport { createAndFireEvent, withAnalyticsContext, withAnalyticsEvents } from '@atlaskit/analytics-next';\nimport Button from '@atlaskit/button/custom-theme-button';\nimport Droplist, { Group, Item } from '@atlaskit/droplist';\nimport ExpandIcon from '@atlaskit/icon/glyph/chevron-down';\nimport WidthConstrainer from '../styled/WidthConstrainer';\nimport { KEY_DOWN, KEY_ENTER, KEY_SPACE } from '../util/keys';\nimport DropdownItemClickManager from './context/DropdownItemClickManager';\nimport DropdownItemFocusManager from './context/DropdownItemFocusManager';\nimport DropdownItemSelectionCache from './context/DropdownItemSelectionCache';\nvar packageName = \"@atlaskit/dropdown-menu\";\nvar packageVersion = \"10.1.6\";\nexport var DropdownMenuStateless = /*#__PURE__*/function (_Component) {\n  _inherits(DropdownMenuStateless, _Component);\n\n  var _super = _createSuper(DropdownMenuStateless);\n\n  function DropdownMenuStateless() {\n    var _this;\n\n    _classCallCheck(this, DropdownMenuStateless);\n\n    for (var _len = arguments.length, _args = new Array(_len), _key = 0; _key < _len; _key++) {\n      _args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(_args));\n\n    _defineProperty(_assertThisInitialized(_this), \"dropdownListPositioned\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      autoFocusDropdownItems: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"componentDidMount\", function () {\n      if (_this.isUsingDeprecatedAPI()) {\n        if (process.env.NODE_ENV !== 'test' && process.env.NODE_ENV !== 'production' && !process.env.CI) {\n          // eslint-disable-next-line no-console\n          console.log('DropdownMenu.items is deprecated. Please switch to the declarative API.');\n        }\n\n        if (_this.domItemsList) {\n          _this.focusFirstItem();\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"componentDidUpdate\", function (prevProp) {\n      if (_this.isUsingDeprecatedAPI() && _this.props.isOpen && !prevProp.isOpen) {\n        _this.focusFirstItem();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getNextFocusable\", function (indexItem, available) {\n      if (!_this.domItemsList) {\n        return null;\n      }\n\n      var currentItem = typeof indexItem !== 'number' ? -1 : indexItem;\n      var latestAvailable = typeof available !== 'number' ? currentItem : available;\n\n      if (currentItem < _this.domItemsList.length - 1) {\n        currentItem++;\n\n        if (_this.domItemsList[currentItem].getAttribute('aria-hidden') !== 'true') {\n          return currentItem;\n        }\n\n        return _this.getNextFocusable(currentItem, latestAvailable);\n      }\n\n      return latestAvailable;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getPrevFocusable\", function (indexItem, available) {\n      if (!_this.domItemsList) {\n        return null;\n      }\n\n      var currentItem = typeof indexItem !== 'number' ? -1 : indexItem;\n      var latestAvailable = typeof available !== 'number' ? currentItem : available;\n\n      if (currentItem && currentItem > 0) {\n        currentItem--;\n\n        if (_this.domItemsList[currentItem].getAttribute('aria-hidden') !== 'true') {\n          return currentItem;\n        }\n\n        return _this.getPrevFocusable(currentItem, latestAvailable);\n      }\n\n      return latestAvailable || currentItem;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"focusFirstItem\", function () {\n      if (_this.sourceOfIsOpen === 'keydown') {\n        _this.focusItem(_this.getNextFocusable());\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"focusNextItem\", function () {\n      _this.focusItem(_this.getNextFocusable(_this.focusedItem));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"focusPreviousItem\", function () {\n      _this.focusItem(_this.getPrevFocusable(_this.focusedItem));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"focusItem\", function (index) {\n      if (!_this.domItemsList || !index) {\n        return;\n      }\n\n      _this.focusedItem = index;\n\n      _this.domItemsList[_this.focusedItem].focus();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"isTargetChildItem\", function (target) {\n      if (!target) {\n        return false;\n      }\n\n      var isDroplistItem = target.getAttribute('data-role') === 'droplistItem'; // eslint-disable-next-line react/no-find-dom-node\n\n      var thisDom = findDOMNode(_assertThisInitialized(_this));\n      return isDroplistItem && thisDom ? thisDom.contains(target) : false;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleKeyboardInteractionForClosed\", function (event) {\n      if (_this.props.isOpen) {\n        return;\n      }\n\n      switch (event.key) {\n        case KEY_DOWN:\n        case KEY_SPACE:\n        case KEY_ENTER:\n          event.preventDefault();\n\n          _this.open({\n            event: event,\n            source: 'keydown'\n          });\n\n          break;\n\n        default:\n          break;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleKeyboardInteractionsDeprecated\", function (event) {\n      if (_this.props.isOpen) {\n        if (_this.isTargetChildItem(event.target)) {\n          switch (event.key) {\n            case 'ArrowUp':\n              event.preventDefault();\n\n              _this.focusPreviousItem();\n\n              break;\n\n            case 'ArrowDown':\n              event.preventDefault();\n\n              _this.focusNextItem();\n\n              break;\n\n            case 'Tab':\n              event.preventDefault();\n\n              _this.close({\n                event: event\n              });\n\n              break;\n\n            default:\n              break;\n          }\n        } else if (event.key === 'ArrowDown') {\n          _this.sourceOfIsOpen = 'keydown';\n\n          _this.focusFirstItem();\n        } else if (event.key === 'Tab') {\n          _this.close({\n            event: event\n          });\n        }\n      } else {\n        switch (event.key) {\n          case KEY_DOWN:\n          case KEY_SPACE:\n          case KEY_ENTER:\n            event.preventDefault();\n\n            _this.open({\n              event: event,\n              source: 'keydown'\n            });\n\n            break;\n\n          default:\n            break;\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"domMenuContainer\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"isUsingDeprecatedAPI\", function () {\n      return Boolean(_this.props.items.length);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleOpenChange\", function (args) {\n      _this.props.onOpenChange(args);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"triggerContent\", function () {\n      var _this$props = _this.props,\n          children = _this$props.children,\n          trigger = _this$props.trigger,\n          isOpen = _this$props.isOpen,\n          triggerButtonProps = _this$props.triggerButtonProps,\n          triggerType = _this$props.triggerType,\n          testId = _this$props.testId;\n      var insideTriggerContent = _this.isUsingDeprecatedAPI() ? children : trigger;\n\n      if (triggerType !== 'button') {\n        return insideTriggerContent;\n      } // we probably don't need to object copying\n      // ts doesn't like destructuring copy - so converting to object.assign\n\n\n      var triggerProps = Object.assign({}, triggerButtonProps);\n      var defaultButtonProps = {\n        'aria-expanded': isOpen,\n        'aria-haspopup': true,\n        isSelected: isOpen\n      };\n\n      if (!triggerProps.iconAfter && !triggerProps.iconBefore) {\n        triggerProps.iconAfter = /*#__PURE__*/React.createElement(ExpandIcon, {\n          size: \"medium\",\n          label: \"\"\n        });\n      }\n\n      return /*#__PURE__*/React.createElement(Button, _extends({}, defaultButtonProps, triggerProps, {\n        testId: testId && \"\".concat(testId, \"--trigger\")\n      }), insideTriggerContent);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"open\", function (attrs) {\n      _this.sourceOfIsOpen = attrs.source;\n\n      _this.props.onOpenChange({\n        isOpen: true,\n        event: attrs.event\n      }); // Dropdown opened via keyboard gets auto focussed\n\n\n      _this.setState({\n        autoFocusDropdownItems: _this.sourceOfIsOpen === 'keydown'\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"close\", function (attrs) {\n      _this.sourceOfIsOpen = null;\n\n      _this.props.onOpenChange({\n        isOpen: false,\n        event: attrs.event\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"toggle\", function (attrs) {\n      if (attrs.source === 'keydown') {\n        return;\n      }\n\n      if (_this.props.isOpen) {\n        _this.close(attrs);\n      } else {\n        _this.open(attrs);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderTrigger\", function () {\n      var triggerContent = _this.triggerContent();\n\n      return _this.isUsingDeprecatedAPI() ? triggerContent : /*#__PURE__*/React.createElement(\"div\", {\n        ref: function ref(_ref) {\n          _this.triggerContainer = _ref;\n        }\n      }, triggerContent);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderItems\", function (items) {\n      return items.map(function (item, itemIndex) {\n        return /*#__PURE__*/React.createElement(Item, _extends({}, item, {\n          key: itemIndex,\n          onActivate: function onActivate(_ref2) {\n            var event = _ref2.event;\n\n            _this.props.onItemActivated({\n              item: item,\n              event: event\n            });\n          }\n        }), item.content);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderGroups\", function (groups) {\n      return groups.map(function (group, groupIndex) {\n        return /*#__PURE__*/React.createElement(Group, {\n          heading: group.heading,\n          elemAfter: group.elemAfter,\n          key: groupIndex\n        }, _this.renderItems(group.items));\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderDeprecated\", function () {\n      var _this$props2 = _this.props,\n          items = _this$props2.items,\n          shouldFitContainer = _this$props2.shouldFitContainer;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        ref: function ref(_ref3) {\n          _this.domMenuContainer = _ref3;\n          _this.domItemsList = _ref3 ? _ref3.querySelectorAll('[data-role=\"droplistItem\"]') : null;\n        },\n        role: \"menu\",\n        style: shouldFitContainer ? undefined : {\n          maxWidth: 300\n        }\n      }, _this.renderGroups(items));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDroplistPositioned\", function () {\n      _this.dropdownListPositioned = true; // Trigger render so item focus manager can auto focus for keyboard trigger\n\n      _this.setState({\n        autoFocusDropdownItems: _this.sourceOfIsOpen === 'keydown'\n      });\n\n      if (_this.props.onPositioned) {\n        _this.props.onPositioned();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderDropdownItems\", function () {\n      if (_this.sourceOfIsOpen === 'keydown' && _this.dropdownListPositioned) {\n        return /*#__PURE__*/React.createElement(DropdownItemFocusManager, {\n          autoFocus: _this.state.autoFocusDropdownItems,\n          close: _this.close\n        }, _this.props.children);\n      }\n\n      return /*#__PURE__*/React.createElement(Fragment, null, _this.props.children);\n    });\n\n    return _this;\n  }\n\n  _createClass(DropdownMenuStateless, [{\n    key: \"handleClickDeprecated\",\n    value: function handleClickDeprecated(event) {\n      var menuContainer = this.domMenuContainer;\n\n      if (!menuContainer || menuContainer && !menuContainer.contains(event.target)) {\n        this.toggle({\n          source: 'click',\n          event: event\n        });\n      }\n    }\n  }, {\n    key: \"handleClick\",\n    value: function handleClick(event) {\n      // For any clicks we don't want autofocus\n      this.setState({\n        autoFocusDropdownItems: false\n      });\n\n      if (this.isUsingDeprecatedAPI()) {\n        this.handleClickDeprecated(event);\n        return;\n      }\n\n      if (this.triggerContainer && this.triggerContainer.contains(event.target) && event.target.disabled !== true) {\n        var isOpen = this.props.isOpen;\n        this.sourceOfIsOpen = 'mouse';\n        this.props.onOpenChange({\n          isOpen: !isOpen,\n          event: event\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props3 = this.props,\n          appearance = _this$props3.appearance,\n          boundariesElement = _this$props3.boundariesElement,\n          isLoading = _this$props3.isLoading,\n          isOpen = _this$props3.isOpen,\n          onOpenChange = _this$props3.onOpenChange,\n          position = _this$props3.position,\n          isMenuFixed = _this$props3.isMenuFixed,\n          shouldAllowMultilineItems = _this$props3.shouldAllowMultilineItems,\n          shouldFitContainer = _this$props3.shouldFitContainer,\n          shouldFlip = _this$props3.shouldFlip,\n          testId = _this$props3.testId;\n      var isDeprecated = this.isUsingDeprecatedAPI();\n      var deprecatedProps = isDeprecated ? {\n        onKeyDown: this.handleKeyboardInteractionsDeprecated,\n        shouldAllowMultilineItems: shouldAllowMultilineItems\n      } : {\n        onKeyDown: this.handleKeyboardInteractionForClosed\n      };\n      return /*#__PURE__*/React.createElement(DropdownItemSelectionCache, null, /*#__PURE__*/React.createElement(Droplist, _extends({\n        appearance: appearance,\n        boundariesElement: boundariesElement,\n        isLoading: isLoading,\n        isOpen: isOpen,\n        onClick: function onClick(e) {\n          return _this2.handleClick(e);\n        },\n        onOpenChange: this.handleOpenChange,\n        position: position,\n        isMenuFixed: isMenuFixed,\n        shouldFitContainer: shouldFitContainer,\n        shouldFlip: shouldFlip,\n        trigger: this.renderTrigger(),\n        onPositioned: this.onDroplistPositioned\n      }, deprecatedProps, {\n        analyticsContext: {\n          componentName: 'dropdownMenu',\n          packageName: packageName,\n          packageVersion: packageVersion\n        },\n        testId: testId\n      }), isDeprecated ? this.renderDeprecated() : /*#__PURE__*/React.createElement(WidthConstrainer, {\n        role: \"menu\",\n        shouldFitContainer: shouldFitContainer\n      }, /*#__PURE__*/React.createElement(DropdownItemClickManager, {\n        onItemClicked: function onItemClicked(event) {\n          return onOpenChange({\n            isOpen: false,\n            event: event\n          });\n        }\n      }, this.renderDropdownItems()))));\n    }\n  }]);\n\n  return DropdownMenuStateless;\n}(Component);\n\n_defineProperty(DropdownMenuStateless, \"defaultProps\", {\n  appearance: 'default',\n  boundariesElement: 'viewport',\n  isLoading: false,\n  isOpen: false,\n  items: [],\n  onItemActivated: function onItemActivated() {},\n  onOpenChange: function onOpenChange() {},\n  position: 'bottom left',\n  isMenuFixed: false,\n  shouldAllowMultilineItems: false,\n  shouldFitContainer: false,\n  shouldFlip: true,\n  triggerType: 'default',\n  onPositioned: function onPositioned() {}\n});\n\nexport { DropdownMenuStateless as DropdownMenuStatelessWithoutAnalytics };\nvar createAndFireEventOnAtlaskit = createAndFireEvent('atlaskit');\nexport default withAnalyticsContext({\n  componentName: 'dropdownMenu',\n  packageName: packageName,\n  packageVersion: packageVersion\n})(withAnalyticsEvents({\n  onOpenChange: createAndFireEventOnAtlaskit({\n    action: 'toggled',\n    actionSubject: 'dropdownMenu',\n    attributes: {\n      componentName: 'dropdownMenu',\n      packageName: packageName,\n      packageVersion: packageVersion\n    }\n  })\n})(DropdownMenuStateless));","map":{"version":3,"sources":["/home/sandy/Documents/evatix/create-components/node_modules/@atlaskit/dropdown-menu/dist/esm/components/DropdownMenuStateless.js"],"names":["_extends","_classCallCheck","_createClass","_assertThisInitialized","_inherits","_possibleConstructorReturn","_getPrototypeOf","_defineProperty","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","constructor","Reflect","construct","arguments","apply","sham","Proxy","Date","prototype","toString","call","e","React","Component","Fragment","findDOMNode","createAndFireEvent","withAnalyticsContext","withAnalyticsEvents","Button","Droplist","Group","Item","ExpandIcon","WidthConstrainer","KEY_DOWN","KEY_ENTER","KEY_SPACE","DropdownItemClickManager","DropdownItemFocusManager","DropdownItemSelectionCache","packageName","packageVersion","DropdownMenuStateless","_Component","_super","_this","_len","length","_args","Array","_key","concat","autoFocusDropdownItems","isUsingDeprecatedAPI","process","env","NODE_ENV","CI","console","log","domItemsList","focusFirstItem","prevProp","props","isOpen","indexItem","available","currentItem","latestAvailable","getAttribute","getNextFocusable","getPrevFocusable","sourceOfIsOpen","focusItem","focusedItem","index","focus","target","isDroplistItem","thisDom","contains","event","key","preventDefault","open","source","isTargetChildItem","focusPreviousItem","focusNextItem","close","Boolean","items","args","onOpenChange","_this$props","children","trigger","triggerButtonProps","triggerType","testId","insideTriggerContent","triggerProps","Object","assign","defaultButtonProps","isSelected","iconAfter","iconBefore","createElement","size","label","attrs","setState","triggerContent","ref","_ref","triggerContainer","map","item","itemIndex","onActivate","_ref2","onItemActivated","content","groups","group","groupIndex","heading","elemAfter","renderItems","_this$props2","shouldFitContainer","_ref3","domMenuContainer","querySelectorAll","role","style","undefined","maxWidth","renderGroups","dropdownListPositioned","onPositioned","autoFocus","state","value","handleClickDeprecated","menuContainer","toggle","handleClick","disabled","render","_this2","_this$props3","appearance","boundariesElement","isLoading","position","isMenuFixed","shouldAllowMultilineItems","shouldFlip","isDeprecated","deprecatedProps","onKeyDown","handleKeyboardInteractionsDeprecated","handleKeyboardInteractionForClosed","onClick","handleOpenChange","renderTrigger","onDroplistPositioned","analyticsContext","componentName","renderDeprecated","onItemClicked","renderDropdownItems","DropdownMenuStatelessWithoutAnalytics","createAndFireEventOnAtlaskit","action","actionSubject","attributes"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n/* eslint-disable react/no-array-index-key */\nimport React, { Component, Fragment } from 'react';\nimport { findDOMNode } from 'react-dom';\nimport { createAndFireEvent, withAnalyticsContext, withAnalyticsEvents } from '@atlaskit/analytics-next';\nimport Button from '@atlaskit/button/custom-theme-button';\nimport Droplist, { Group, Item } from '@atlaskit/droplist';\nimport ExpandIcon from '@atlaskit/icon/glyph/chevron-down';\nimport WidthConstrainer from '../styled/WidthConstrainer';\nimport { KEY_DOWN, KEY_ENTER, KEY_SPACE } from '../util/keys';\nimport DropdownItemClickManager from './context/DropdownItemClickManager';\nimport DropdownItemFocusManager from './context/DropdownItemFocusManager';\nimport DropdownItemSelectionCache from './context/DropdownItemSelectionCache';\nvar packageName = \"@atlaskit/dropdown-menu\";\nvar packageVersion = \"10.1.6\";\nexport var DropdownMenuStateless = /*#__PURE__*/function (_Component) {\n  _inherits(DropdownMenuStateless, _Component);\n\n  var _super = _createSuper(DropdownMenuStateless);\n\n  function DropdownMenuStateless() {\n    var _this;\n\n    _classCallCheck(this, DropdownMenuStateless);\n\n    for (var _len = arguments.length, _args = new Array(_len), _key = 0; _key < _len; _key++) {\n      _args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(_args));\n\n    _defineProperty(_assertThisInitialized(_this), \"dropdownListPositioned\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      autoFocusDropdownItems: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"componentDidMount\", function () {\n      if (_this.isUsingDeprecatedAPI()) {\n        if (process.env.NODE_ENV !== 'test' && process.env.NODE_ENV !== 'production' && !process.env.CI) {\n          // eslint-disable-next-line no-console\n          console.log('DropdownMenu.items is deprecated. Please switch to the declarative API.');\n        }\n\n        if (_this.domItemsList) {\n          _this.focusFirstItem();\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"componentDidUpdate\", function (prevProp) {\n      if (_this.isUsingDeprecatedAPI() && _this.props.isOpen && !prevProp.isOpen) {\n        _this.focusFirstItem();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getNextFocusable\", function (indexItem, available) {\n      if (!_this.domItemsList) {\n        return null;\n      }\n\n      var currentItem = typeof indexItem !== 'number' ? -1 : indexItem;\n      var latestAvailable = typeof available !== 'number' ? currentItem : available;\n\n      if (currentItem < _this.domItemsList.length - 1) {\n        currentItem++;\n\n        if (_this.domItemsList[currentItem].getAttribute('aria-hidden') !== 'true') {\n          return currentItem;\n        }\n\n        return _this.getNextFocusable(currentItem, latestAvailable);\n      }\n\n      return latestAvailable;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getPrevFocusable\", function (indexItem, available) {\n      if (!_this.domItemsList) {\n        return null;\n      }\n\n      var currentItem = typeof indexItem !== 'number' ? -1 : indexItem;\n      var latestAvailable = typeof available !== 'number' ? currentItem : available;\n\n      if (currentItem && currentItem > 0) {\n        currentItem--;\n\n        if (_this.domItemsList[currentItem].getAttribute('aria-hidden') !== 'true') {\n          return currentItem;\n        }\n\n        return _this.getPrevFocusable(currentItem, latestAvailable);\n      }\n\n      return latestAvailable || currentItem;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"focusFirstItem\", function () {\n      if (_this.sourceOfIsOpen === 'keydown') {\n        _this.focusItem(_this.getNextFocusable());\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"focusNextItem\", function () {\n      _this.focusItem(_this.getNextFocusable(_this.focusedItem));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"focusPreviousItem\", function () {\n      _this.focusItem(_this.getPrevFocusable(_this.focusedItem));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"focusItem\", function (index) {\n      if (!_this.domItemsList || !index) {\n        return;\n      }\n\n      _this.focusedItem = index;\n\n      _this.domItemsList[_this.focusedItem].focus();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"isTargetChildItem\", function (target) {\n      if (!target) {\n        return false;\n      }\n\n      var isDroplistItem = target.getAttribute('data-role') === 'droplistItem'; // eslint-disable-next-line react/no-find-dom-node\n\n      var thisDom = findDOMNode(_assertThisInitialized(_this));\n      return isDroplistItem && thisDom ? thisDom.contains(target) : false;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleKeyboardInteractionForClosed\", function (event) {\n      if (_this.props.isOpen) {\n        return;\n      }\n\n      switch (event.key) {\n        case KEY_DOWN:\n        case KEY_SPACE:\n        case KEY_ENTER:\n          event.preventDefault();\n\n          _this.open({\n            event: event,\n            source: 'keydown'\n          });\n\n          break;\n\n        default:\n          break;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleKeyboardInteractionsDeprecated\", function (event) {\n      if (_this.props.isOpen) {\n        if (_this.isTargetChildItem(event.target)) {\n          switch (event.key) {\n            case 'ArrowUp':\n              event.preventDefault();\n\n              _this.focusPreviousItem();\n\n              break;\n\n            case 'ArrowDown':\n              event.preventDefault();\n\n              _this.focusNextItem();\n\n              break;\n\n            case 'Tab':\n              event.preventDefault();\n\n              _this.close({\n                event: event\n              });\n\n              break;\n\n            default:\n              break;\n          }\n        } else if (event.key === 'ArrowDown') {\n          _this.sourceOfIsOpen = 'keydown';\n\n          _this.focusFirstItem();\n        } else if (event.key === 'Tab') {\n          _this.close({\n            event: event\n          });\n        }\n      } else {\n        switch (event.key) {\n          case KEY_DOWN:\n          case KEY_SPACE:\n          case KEY_ENTER:\n            event.preventDefault();\n\n            _this.open({\n              event: event,\n              source: 'keydown'\n            });\n\n            break;\n\n          default:\n            break;\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"domMenuContainer\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"isUsingDeprecatedAPI\", function () {\n      return Boolean(_this.props.items.length);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleOpenChange\", function (args) {\n      _this.props.onOpenChange(args);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"triggerContent\", function () {\n      var _this$props = _this.props,\n          children = _this$props.children,\n          trigger = _this$props.trigger,\n          isOpen = _this$props.isOpen,\n          triggerButtonProps = _this$props.triggerButtonProps,\n          triggerType = _this$props.triggerType,\n          testId = _this$props.testId;\n      var insideTriggerContent = _this.isUsingDeprecatedAPI() ? children : trigger;\n\n      if (triggerType !== 'button') {\n        return insideTriggerContent;\n      } // we probably don't need to object copying\n      // ts doesn't like destructuring copy - so converting to object.assign\n\n\n      var triggerProps = Object.assign({}, triggerButtonProps);\n      var defaultButtonProps = {\n        'aria-expanded': isOpen,\n        'aria-haspopup': true,\n        isSelected: isOpen\n      };\n\n      if (!triggerProps.iconAfter && !triggerProps.iconBefore) {\n        triggerProps.iconAfter = /*#__PURE__*/React.createElement(ExpandIcon, {\n          size: \"medium\",\n          label: \"\"\n        });\n      }\n\n      return /*#__PURE__*/React.createElement(Button, _extends({}, defaultButtonProps, triggerProps, {\n        testId: testId && \"\".concat(testId, \"--trigger\")\n      }), insideTriggerContent);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"open\", function (attrs) {\n      _this.sourceOfIsOpen = attrs.source;\n\n      _this.props.onOpenChange({\n        isOpen: true,\n        event: attrs.event\n      }); // Dropdown opened via keyboard gets auto focussed\n\n\n      _this.setState({\n        autoFocusDropdownItems: _this.sourceOfIsOpen === 'keydown'\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"close\", function (attrs) {\n      _this.sourceOfIsOpen = null;\n\n      _this.props.onOpenChange({\n        isOpen: false,\n        event: attrs.event\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"toggle\", function (attrs) {\n      if (attrs.source === 'keydown') {\n        return;\n      }\n\n      if (_this.props.isOpen) {\n        _this.close(attrs);\n      } else {\n        _this.open(attrs);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderTrigger\", function () {\n      var triggerContent = _this.triggerContent();\n\n      return _this.isUsingDeprecatedAPI() ? triggerContent : /*#__PURE__*/React.createElement(\"div\", {\n        ref: function ref(_ref) {\n          _this.triggerContainer = _ref;\n        }\n      }, triggerContent);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderItems\", function (items) {\n      return items.map(function (item, itemIndex) {\n        return /*#__PURE__*/React.createElement(Item, _extends({}, item, {\n          key: itemIndex,\n          onActivate: function onActivate(_ref2) {\n            var event = _ref2.event;\n\n            _this.props.onItemActivated({\n              item: item,\n              event: event\n            });\n          }\n        }), item.content);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderGroups\", function (groups) {\n      return groups.map(function (group, groupIndex) {\n        return /*#__PURE__*/React.createElement(Group, {\n          heading: group.heading,\n          elemAfter: group.elemAfter,\n          key: groupIndex\n        }, _this.renderItems(group.items));\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderDeprecated\", function () {\n      var _this$props2 = _this.props,\n          items = _this$props2.items,\n          shouldFitContainer = _this$props2.shouldFitContainer;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        ref: function ref(_ref3) {\n          _this.domMenuContainer = _ref3;\n          _this.domItemsList = _ref3 ? _ref3.querySelectorAll('[data-role=\"droplistItem\"]') : null;\n        },\n        role: \"menu\",\n        style: shouldFitContainer ? undefined : {\n          maxWidth: 300\n        }\n      }, _this.renderGroups(items));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDroplistPositioned\", function () {\n      _this.dropdownListPositioned = true; // Trigger render so item focus manager can auto focus for keyboard trigger\n\n      _this.setState({\n        autoFocusDropdownItems: _this.sourceOfIsOpen === 'keydown'\n      });\n\n      if (_this.props.onPositioned) {\n        _this.props.onPositioned();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderDropdownItems\", function () {\n      if (_this.sourceOfIsOpen === 'keydown' && _this.dropdownListPositioned) {\n        return /*#__PURE__*/React.createElement(DropdownItemFocusManager, {\n          autoFocus: _this.state.autoFocusDropdownItems,\n          close: _this.close\n        }, _this.props.children);\n      }\n\n      return /*#__PURE__*/React.createElement(Fragment, null, _this.props.children);\n    });\n\n    return _this;\n  }\n\n  _createClass(DropdownMenuStateless, [{\n    key: \"handleClickDeprecated\",\n    value: function handleClickDeprecated(event) {\n      var menuContainer = this.domMenuContainer;\n\n      if (!menuContainer || menuContainer && !menuContainer.contains(event.target)) {\n        this.toggle({\n          source: 'click',\n          event: event\n        });\n      }\n    }\n  }, {\n    key: \"handleClick\",\n    value: function handleClick(event) {\n      // For any clicks we don't want autofocus\n      this.setState({\n        autoFocusDropdownItems: false\n      });\n\n      if (this.isUsingDeprecatedAPI()) {\n        this.handleClickDeprecated(event);\n        return;\n      }\n\n      if (this.triggerContainer && this.triggerContainer.contains(event.target) && event.target.disabled !== true) {\n        var isOpen = this.props.isOpen;\n        this.sourceOfIsOpen = 'mouse';\n        this.props.onOpenChange({\n          isOpen: !isOpen,\n          event: event\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props3 = this.props,\n          appearance = _this$props3.appearance,\n          boundariesElement = _this$props3.boundariesElement,\n          isLoading = _this$props3.isLoading,\n          isOpen = _this$props3.isOpen,\n          onOpenChange = _this$props3.onOpenChange,\n          position = _this$props3.position,\n          isMenuFixed = _this$props3.isMenuFixed,\n          shouldAllowMultilineItems = _this$props3.shouldAllowMultilineItems,\n          shouldFitContainer = _this$props3.shouldFitContainer,\n          shouldFlip = _this$props3.shouldFlip,\n          testId = _this$props3.testId;\n      var isDeprecated = this.isUsingDeprecatedAPI();\n      var deprecatedProps = isDeprecated ? {\n        onKeyDown: this.handleKeyboardInteractionsDeprecated,\n        shouldAllowMultilineItems: shouldAllowMultilineItems\n      } : {\n        onKeyDown: this.handleKeyboardInteractionForClosed\n      };\n      return /*#__PURE__*/React.createElement(DropdownItemSelectionCache, null, /*#__PURE__*/React.createElement(Droplist, _extends({\n        appearance: appearance,\n        boundariesElement: boundariesElement,\n        isLoading: isLoading,\n        isOpen: isOpen,\n        onClick: function onClick(e) {\n          return _this2.handleClick(e);\n        },\n        onOpenChange: this.handleOpenChange,\n        position: position,\n        isMenuFixed: isMenuFixed,\n        shouldFitContainer: shouldFitContainer,\n        shouldFlip: shouldFlip,\n        trigger: this.renderTrigger(),\n        onPositioned: this.onDroplistPositioned\n      }, deprecatedProps, {\n        analyticsContext: {\n          componentName: 'dropdownMenu',\n          packageName: packageName,\n          packageVersion: packageVersion\n        },\n        testId: testId\n      }), isDeprecated ? this.renderDeprecated() : /*#__PURE__*/React.createElement(WidthConstrainer, {\n        role: \"menu\",\n        shouldFitContainer: shouldFitContainer\n      }, /*#__PURE__*/React.createElement(DropdownItemClickManager, {\n        onItemClicked: function onItemClicked(event) {\n          return onOpenChange({\n            isOpen: false,\n            event: event\n          });\n        }\n      }, this.renderDropdownItems()))));\n    }\n  }]);\n\n  return DropdownMenuStateless;\n}(Component);\n\n_defineProperty(DropdownMenuStateless, \"defaultProps\", {\n  appearance: 'default',\n  boundariesElement: 'viewport',\n  isLoading: false,\n  isOpen: false,\n  items: [],\n  onItemActivated: function onItemActivated() {},\n  onOpenChange: function onOpenChange() {},\n  position: 'bottom left',\n  isMenuFixed: false,\n  shouldAllowMultilineItems: false,\n  shouldFitContainer: false,\n  shouldFlip: true,\n  triggerType: 'default',\n  onPositioned: function onPositioned() {}\n});\n\nexport { DropdownMenuStateless as DropdownMenuStatelessWithoutAnalytics };\nvar createAndFireEventOnAtlaskit = createAndFireEvent('atlaskit');\nexport default withAnalyticsContext({\n  componentName: 'dropdownMenu',\n  packageName: packageName,\n  packageVersion: packageVersion\n})(withAnalyticsEvents({\n  onOpenChange: createAndFireEventOnAtlaskit({\n    action: 'toggled',\n    actionSubject: 'dropdownMenu',\n    attributes: {\n      componentName: 'dropdownMenu',\n      packageName: packageName,\n      packageVersion: packageVersion\n    }\n  })\n})(DropdownMenuStateless));"]},"metadata":{},"sourceType":"module"}