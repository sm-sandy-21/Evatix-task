{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n/** @jsx jsx */\n\n\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { jsx } from '@emotion/core';\nimport { bind } from 'bind-event-listener';\nimport { usePlatformLeafSyntheticEventHandler } from '@atlaskit/analytics-next';\nimport useCloseOnEscapePress from '@atlaskit/ds-lib/use-close-on-escape-press';\nimport { ExitingPersistence, FadeIn } from '@atlaskit/motion';\nimport { Popper } from '@atlaskit/popper';\nimport Portal from '@atlaskit/portal';\nimport { layers } from '@atlaskit/theme/constants';\nimport { show } from './internal/tooltip-manager';\nimport TooltipContainer from './TooltipContainer';\nimport { getMousePosition } from './utilities';\nvar tooltipZIndex = layers.tooltip();\nvar analyticsAttributes = {\n  componentName: 'tooltip',\n  packageName: \"@atlaskit/tooltip\",\n  packageVersion: \"17.3.0\"\n};\n\nfunction noop() {}\n\nfunction Tooltip(_ref) {\n  var children = _ref.children,\n      _ref$position = _ref.position,\n      position = _ref$position === void 0 ? 'bottom' : _ref$position,\n      _ref$mousePosition = _ref.mousePosition,\n      mousePosition = _ref$mousePosition === void 0 ? 'bottom' : _ref$mousePosition,\n      content = _ref.content,\n      _ref$truncate = _ref.truncate,\n      truncate = _ref$truncate === void 0 ? false : _ref$truncate,\n      _ref$component = _ref.component,\n      Container = _ref$component === void 0 ? TooltipContainer : _ref$component,\n      _ref$tag = _ref.tag,\n      TargetContainer = _ref$tag === void 0 ? 'div' : _ref$tag,\n      testId = _ref.testId,\n      _ref$delay = _ref.delay,\n      delay = _ref$delay === void 0 ? 300 : _ref$delay,\n      _ref$onShow = _ref.onShow,\n      onShow = _ref$onShow === void 0 ? noop : _ref$onShow,\n      _ref$onHide = _ref.onHide,\n      onHide = _ref$onHide === void 0 ? noop : _ref$onHide,\n      _ref$hideTooltipOnCli = _ref.hideTooltipOnClick,\n      hideTooltipOnClick = _ref$hideTooltipOnCli === void 0 ? false : _ref$hideTooltipOnCli,\n      _ref$hideTooltipOnMou = _ref.hideTooltipOnMouseDown,\n      hideTooltipOnMouseDown = _ref$hideTooltipOnMou === void 0 ? false : _ref$hideTooltipOnMou,\n      analyticsContext = _ref.analyticsContext,\n      _ref$strategy = _ref.strategy,\n      strategy = _ref$strategy === void 0 ? 'fixed' : _ref$strategy;\n  var tooltipPosition = position === 'mouse' ? mousePosition : position;\n  var onShowHandler = usePlatformLeafSyntheticEventHandler(_objectSpread({\n    fn: onShow,\n    action: 'displayed',\n    analyticsData: analyticsContext\n  }, analyticsAttributes));\n  var onHideHandler = usePlatformLeafSyntheticEventHandler(_objectSpread({\n    fn: onHide,\n    action: 'hidden',\n    analyticsData: analyticsContext\n  }, analyticsAttributes));\n  var apiRef = useRef(null);\n\n  var _useState = useState('hide'),\n      _useState2 = _slicedToArray(_useState, 2),\n      state = _useState2[0],\n      setState = _useState2[1];\n\n  var targetRef = useRef(null);\n  var containerRef = useRef(null);\n  var setRef = useCallback(function (node) {\n    if (!node || node.firstChild === null) {\n      return;\n    } // @ts-ignore - React Ref typing is too strict for this use case\n\n\n    containerRef.current = node; // @ts-ignore - React Ref typing is too strict for this use case\n\n    targetRef.current = node.firstChild;\n  }, []); // Putting a few things into refs so that we don't have to break memoization\n\n  var lastState = useRef(state);\n  var lastDelay = useRef(delay);\n  var lastHandlers = useRef({\n    onShowHandler: onShowHandler,\n    onHideHandler: onHideHandler\n  });\n  var hasCalledShowHandler = useRef(false);\n  useEffect(function () {\n    lastState.current = state;\n    lastDelay.current = delay;\n    lastHandlers.current = {\n      onShowHandler: onShowHandler,\n      onHideHandler: onHideHandler\n    };\n  }, [delay, onHideHandler, onShowHandler, state]);\n  var start = useCallback(function (api) {\n    // @ts-ignore\n    apiRef.current = api;\n    hasCalledShowHandler.current = false;\n  }, []);\n  var done = useCallback(function () {\n    if (!apiRef.current) {\n      return;\n    } // Only call onHideHandler if we have called onShowHandler\n\n\n    if (hasCalledShowHandler.current) {\n      lastHandlers.current.onHideHandler();\n    } // @ts-ignore\n\n\n    apiRef.current = null; // @ts-ignore\n\n    hasCalledShowHandler.current = false; // just in case\n\n    setState('hide');\n  }, []);\n  var abort = useCallback(function () {\n    if (!apiRef.current) {\n      return;\n    }\n\n    apiRef.current.abort(); // Only call onHideHandler if we have called onShowHandler\n\n    if (hasCalledShowHandler.current) {\n      lastHandlers.current.onHideHandler();\n    } // @ts-ignore\n\n\n    apiRef.current = null;\n  }, []);\n  useEffect(function mount() {\n    return function unmount() {\n      if (apiRef.current) {\n        abort();\n      }\n    };\n  }, [abort]);\n  var showTooltip = useCallback(function (source) {\n    if (apiRef.current && !apiRef.current.isActive()) {\n      abort();\n    } // Tell the tooltip to keep showing\n\n\n    if (apiRef.current && apiRef.current.isActive()) {\n      apiRef.current.keep();\n      return;\n    }\n\n    var entry = {\n      source: source,\n      delay: lastDelay.current,\n      show: function show(_ref2) {\n        var isImmediate = _ref2.isImmediate; // Call the onShow handler if it hasn't been called yet\n\n        if (!hasCalledShowHandler.current) {\n          hasCalledShowHandler.current = true;\n          lastHandlers.current.onShowHandler();\n        }\n\n        setState(isImmediate ? 'show-immediate' : 'show-fade-in');\n      },\n      hide: function hide(_ref3) {\n        var isImmediate = _ref3.isImmediate;\n        setState(function (current) {\n          if (current !== 'hide') {\n            return isImmediate ? 'hide' : 'fade-out';\n          }\n\n          return current;\n        });\n      },\n      done: done\n    };\n    var api = show(entry);\n    start(api);\n  }, [abort, done, start]);\n  var hideTooltipOnEsc = useCallback(function () {\n    var _apiRef$current;\n\n    (_apiRef$current = apiRef.current) === null || _apiRef$current === void 0 ? void 0 : _apiRef$current.requestHide({\n      isImmediate: true\n    });\n  }, [apiRef]);\n  useCloseOnEscapePress({\n    onClose: hideTooltipOnEsc,\n    isDisabled: state === 'hide' || state === 'fade-out'\n  });\n  useEffect(function () {\n    if (state === 'hide') {\n      return noop;\n    }\n\n    var unbind = bind(window, {\n      type: 'scroll',\n      listener: function listener() {\n        if (apiRef.current) {\n          apiRef.current.requestHide({\n            isImmediate: true\n          });\n        }\n      },\n      options: {\n        capture: true,\n        passive: true,\n        once: true\n      }\n    });\n    return unbind;\n  }, [state]);\n  var onMouseDown = useCallback(function () {\n    if (hideTooltipOnMouseDown && apiRef.current) {\n      apiRef.current.requestHide({\n        isImmediate: true\n      });\n    }\n  }, [hideTooltipOnMouseDown]);\n  var onClick = useCallback(function () {\n    if (hideTooltipOnClick && apiRef.current) {\n      apiRef.current.requestHide({\n        isImmediate: true\n      });\n    }\n  }, [hideTooltipOnClick]); // Ideally we would be using onMouseEnter here, but\n  // because we are binding the event to the target parent\n  // we need to listen for the mouseover of all sub elements\n  // This means when moving along a tooltip we are quickly toggling\n  // between api.requestHide and api.keep. This it not ideal\n\n  var onMouseOver = useCallback(function (event) {\n    // Ignoring events from the container ref\n    if (event.target === containerRef.current) {\n      return;\n    } // Using prevent default as a signal that parent tooltips\n\n\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    event.preventDefault();\n    var source = position === 'mouse' ? {\n      type: 'mouse',\n      // TODO: ideally not recalculating this object each time\n      mouse: getMousePosition({\n        left: event.clientX,\n        top: event.clientY\n      })\n    } : {\n      type: 'keyboard'\n    };\n    showTooltip(source);\n  }, [position, showTooltip]); // Ideally we would be using onMouseEnter here, but\n  // because we are binding the event to the target parent\n  // we need to listen for the mouseout of all sub elements\n  // This means when moving along a tooltip we are quickly toggling\n  // between api.requestHide and api.keep. This it not ideal\n\n  var onMouseOut = useCallback(function (event) {\n    // Ignoring events from the container ref\n    if (event.target === containerRef.current) {\n      return;\n    } // Using prevent default as a signal that parent tooltips\n\n\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    event.preventDefault();\n\n    if (apiRef.current) {\n      apiRef.current.requestHide({\n        isImmediate: false\n      });\n    }\n  }, []);\n  var onMouseOverTooltip = useCallback(function () {\n    if (apiRef.current && apiRef.current.isActive()) {\n      apiRef.current.keep();\n      return;\n    }\n  }, []);\n  var onFocus = useCallback(function () {\n    showTooltip({\n      type: 'keyboard'\n    });\n  }, [showTooltip]);\n  var onBlur = useCallback(function () {\n    if (apiRef.current) {\n      apiRef.current.requestHide({\n        isImmediate: false\n      });\n    }\n  }, []);\n  var onAnimationFinished = useCallback(function (transition) {\n    // Using lastState here because motion is not picking up the latest value\n    if (transition === 'exiting' && lastState.current === 'fade-out' && apiRef.current) {\n      // @ts-ignore: refs are writeable\n      apiRef.current.finishHideAnimation();\n    }\n  }, []); // Doing a cast because typescript is struggling to narrow the type\n\n  var CastTargetContainer = TargetContainer;\n  var shouldRenderTooltipContainer = state !== 'hide' && Boolean(content);\n  var shouldRenderTooltipChildren = state === 'show-immediate' || state === 'show-fade-in';\n\n  var getReferentElement = function getReferentElement() {\n    // Use the initial mouse position if appropriate, or the target element\n    var api = apiRef.current;\n    var initialMouse = api ? api.getInitialMouse() : null;\n\n    if (position === 'mouse' && initialMouse) {\n      return initialMouse;\n    }\n\n    return targetRef.current || undefined;\n  };\n\n  return jsx(React.Fragment, null, jsx(CastTargetContainer, {\n    onMouseOver: onMouseOver,\n    onMouseOut: onMouseOut,\n    onClick: onClick,\n    onMouseDown: onMouseDown,\n    onFocus: onFocus,\n    onBlur: onBlur,\n    ref: setRef,\n    \"data-testid\": testId ? \"\".concat(testId, \"--container\") : undefined,\n    role: \"presentation\"\n  }, children), shouldRenderTooltipContainer ? jsx(Portal, {\n    zIndex: tooltipZIndex\n  }, jsx(Popper, {\n    placement: tooltipPosition,\n    referenceElement: getReferentElement(),\n    strategy: strategy\n  }, function (_ref4) {\n    var ref = _ref4.ref,\n        style = _ref4.style,\n        update = _ref4.update;\n    return jsx(ExitingPersistence, {\n      appear: true\n    }, shouldRenderTooltipChildren && jsx(FadeIn, {\n      onFinish: onAnimationFinished,\n      duration: state === 'show-immediate' ? 0 : undefined\n    }, function (_ref5) {\n      var className = _ref5.className;\n      return (// eslint-disable-next-line jsx-a11y/mouse-events-have-key-events\n        jsx(Container, {\n          ref: ref,\n          className: \"Tooltip \".concat(className),\n          style: style,\n          truncate: truncate,\n          placement: tooltipPosition,\n          testId: testId,\n          onMouseOut: onMouseOut,\n          onMouseOver: onMouseOverTooltip\n        }, typeof content === 'function' ? content({\n          update: update\n        }) : content)\n      );\n    }));\n  })) : null);\n}\n\nTooltip.displayName = 'Tooltip';\nexport default Tooltip;","map":{"version":3,"sources":["/home/sandy/Documents/evatix/create-components/node_modules/@atlaskit/dropdown-menu/node_modules/@atlaskit/tooltip/dist/esm/Tooltip.js"],"names":["_slicedToArray","_defineProperty","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","React","useCallback","useEffect","useRef","useState","jsx","bind","usePlatformLeafSyntheticEventHandler","useCloseOnEscapePress","ExitingPersistence","FadeIn","Popper","Portal","layers","show","TooltipContainer","getMousePosition","tooltipZIndex","tooltip","analyticsAttributes","componentName","packageName","packageVersion","noop","Tooltip","_ref","children","_ref$position","position","_ref$mousePosition","mousePosition","content","_ref$truncate","truncate","_ref$component","component","Container","_ref$tag","tag","TargetContainer","testId","_ref$delay","delay","_ref$onShow","onShow","_ref$onHide","onHide","_ref$hideTooltipOnCli","hideTooltipOnClick","_ref$hideTooltipOnMou","hideTooltipOnMouseDown","analyticsContext","_ref$strategy","strategy","tooltipPosition","onShowHandler","fn","action","analyticsData","onHideHandler","apiRef","_useState","_useState2","state","setState","targetRef","containerRef","setRef","node","firstChild","current","lastState","lastDelay","lastHandlers","hasCalledShowHandler","start","api","done","abort","mount","unmount","showTooltip","isActive","keep","entry","_ref2","isImmediate","hide","_ref3","hideTooltipOnEsc","_apiRef$current","requestHide","onClose","isDisabled","unbind","window","type","listener","options","capture","passive","once","onMouseDown","onClick","onMouseOver","event","defaultPrevented","preventDefault","mouse","left","clientX","top","clientY","onMouseOut","onMouseOverTooltip","onFocus","onBlur","onAnimationFinished","transition","finishHideAnimation","CastTargetContainer","shouldRenderTooltipContainer","Boolean","shouldRenderTooltipChildren","getReferentElement","initialMouse","getInitialMouse","undefined","Fragment","ref","concat","role","zIndex","placement","referenceElement","_ref4","style","update","appear","onFinish","duration","_ref5","className","displayName"],"mappings":"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","sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/** @jsx jsx */\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { jsx } from '@emotion/core';\nimport { bind } from 'bind-event-listener';\nimport { usePlatformLeafSyntheticEventHandler } from '@atlaskit/analytics-next';\nimport useCloseOnEscapePress from '@atlaskit/ds-lib/use-close-on-escape-press';\nimport { ExitingPersistence, FadeIn } from '@atlaskit/motion';\nimport { Popper } from '@atlaskit/popper';\nimport Portal from '@atlaskit/portal';\nimport { layers } from '@atlaskit/theme/constants';\nimport { show } from './internal/tooltip-manager';\nimport TooltipContainer from './TooltipContainer';\nimport { getMousePosition } from './utilities';\nvar tooltipZIndex = layers.tooltip();\nvar analyticsAttributes = {\n  componentName: 'tooltip',\n  packageName: \"@atlaskit/tooltip\",\n  packageVersion: \"17.3.0\"\n};\n\nfunction noop() {}\n\nfunction Tooltip(_ref) {\n  var children = _ref.children,\n      _ref$position = _ref.position,\n      position = _ref$position === void 0 ? 'bottom' : _ref$position,\n      _ref$mousePosition = _ref.mousePosition,\n      mousePosition = _ref$mousePosition === void 0 ? 'bottom' : _ref$mousePosition,\n      content = _ref.content,\n      _ref$truncate = _ref.truncate,\n      truncate = _ref$truncate === void 0 ? false : _ref$truncate,\n      _ref$component = _ref.component,\n      Container = _ref$component === void 0 ? TooltipContainer : _ref$component,\n      _ref$tag = _ref.tag,\n      TargetContainer = _ref$tag === void 0 ? 'div' : _ref$tag,\n      testId = _ref.testId,\n      _ref$delay = _ref.delay,\n      delay = _ref$delay === void 0 ? 300 : _ref$delay,\n      _ref$onShow = _ref.onShow,\n      onShow = _ref$onShow === void 0 ? noop : _ref$onShow,\n      _ref$onHide = _ref.onHide,\n      onHide = _ref$onHide === void 0 ? noop : _ref$onHide,\n      _ref$hideTooltipOnCli = _ref.hideTooltipOnClick,\n      hideTooltipOnClick = _ref$hideTooltipOnCli === void 0 ? false : _ref$hideTooltipOnCli,\n      _ref$hideTooltipOnMou = _ref.hideTooltipOnMouseDown,\n      hideTooltipOnMouseDown = _ref$hideTooltipOnMou === void 0 ? false : _ref$hideTooltipOnMou,\n      analyticsContext = _ref.analyticsContext,\n      _ref$strategy = _ref.strategy,\n      strategy = _ref$strategy === void 0 ? 'fixed' : _ref$strategy;\n  var tooltipPosition = position === 'mouse' ? mousePosition : position;\n  var onShowHandler = usePlatformLeafSyntheticEventHandler(_objectSpread({\n    fn: onShow,\n    action: 'displayed',\n    analyticsData: analyticsContext\n  }, analyticsAttributes));\n  var onHideHandler = usePlatformLeafSyntheticEventHandler(_objectSpread({\n    fn: onHide,\n    action: 'hidden',\n    analyticsData: analyticsContext\n  }, analyticsAttributes));\n  var apiRef = useRef(null);\n\n  var _useState = useState('hide'),\n      _useState2 = _slicedToArray(_useState, 2),\n      state = _useState2[0],\n      setState = _useState2[1];\n\n  var targetRef = useRef(null);\n  var containerRef = useRef(null);\n  var setRef = useCallback(function (node) {\n    if (!node || node.firstChild === null) {\n      return;\n    } // @ts-ignore - React Ref typing is too strict for this use case\n\n\n    containerRef.current = node; // @ts-ignore - React Ref typing is too strict for this use case\n\n    targetRef.current = node.firstChild;\n  }, []); // Putting a few things into refs so that we don't have to break memoization\n\n  var lastState = useRef(state);\n  var lastDelay = useRef(delay);\n  var lastHandlers = useRef({\n    onShowHandler: onShowHandler,\n    onHideHandler: onHideHandler\n  });\n  var hasCalledShowHandler = useRef(false);\n  useEffect(function () {\n    lastState.current = state;\n    lastDelay.current = delay;\n    lastHandlers.current = {\n      onShowHandler: onShowHandler,\n      onHideHandler: onHideHandler\n    };\n  }, [delay, onHideHandler, onShowHandler, state]);\n  var start = useCallback(function (api) {\n    // @ts-ignore\n    apiRef.current = api;\n    hasCalledShowHandler.current = false;\n  }, []);\n  var done = useCallback(function () {\n    if (!apiRef.current) {\n      return;\n    } // Only call onHideHandler if we have called onShowHandler\n\n\n    if (hasCalledShowHandler.current) {\n      lastHandlers.current.onHideHandler();\n    } // @ts-ignore\n\n\n    apiRef.current = null; // @ts-ignore\n\n    hasCalledShowHandler.current = false; // just in case\n\n    setState('hide');\n  }, []);\n  var abort = useCallback(function () {\n    if (!apiRef.current) {\n      return;\n    }\n\n    apiRef.current.abort(); // Only call onHideHandler if we have called onShowHandler\n\n    if (hasCalledShowHandler.current) {\n      lastHandlers.current.onHideHandler();\n    } // @ts-ignore\n\n\n    apiRef.current = null;\n  }, []);\n  useEffect(function mount() {\n    return function unmount() {\n      if (apiRef.current) {\n        abort();\n      }\n    };\n  }, [abort]);\n  var showTooltip = useCallback(function (source) {\n    if (apiRef.current && !apiRef.current.isActive()) {\n      abort();\n    } // Tell the tooltip to keep showing\n\n\n    if (apiRef.current && apiRef.current.isActive()) {\n      apiRef.current.keep();\n      return;\n    }\n\n    var entry = {\n      source: source,\n      delay: lastDelay.current,\n      show: function show(_ref2) {\n        var isImmediate = _ref2.isImmediate;\n\n        // Call the onShow handler if it hasn't been called yet\n        if (!hasCalledShowHandler.current) {\n          hasCalledShowHandler.current = true;\n          lastHandlers.current.onShowHandler();\n        }\n\n        setState(isImmediate ? 'show-immediate' : 'show-fade-in');\n      },\n      hide: function hide(_ref3) {\n        var isImmediate = _ref3.isImmediate;\n        setState(function (current) {\n          if (current !== 'hide') {\n            return isImmediate ? 'hide' : 'fade-out';\n          }\n\n          return current;\n        });\n      },\n      done: done\n    };\n    var api = show(entry);\n    start(api);\n  }, [abort, done, start]);\n  var hideTooltipOnEsc = useCallback(function () {\n    var _apiRef$current;\n\n    (_apiRef$current = apiRef.current) === null || _apiRef$current === void 0 ? void 0 : _apiRef$current.requestHide({\n      isImmediate: true\n    });\n  }, [apiRef]);\n  useCloseOnEscapePress({\n    onClose: hideTooltipOnEsc,\n    isDisabled: state === 'hide' || state === 'fade-out'\n  });\n  useEffect(function () {\n    if (state === 'hide') {\n      return noop;\n    }\n\n    var unbind = bind(window, {\n      type: 'scroll',\n      listener: function listener() {\n        if (apiRef.current) {\n          apiRef.current.requestHide({\n            isImmediate: true\n          });\n        }\n      },\n      options: {\n        capture: true,\n        passive: true,\n        once: true\n      }\n    });\n    return unbind;\n  }, [state]);\n  var onMouseDown = useCallback(function () {\n    if (hideTooltipOnMouseDown && apiRef.current) {\n      apiRef.current.requestHide({\n        isImmediate: true\n      });\n    }\n  }, [hideTooltipOnMouseDown]);\n  var onClick = useCallback(function () {\n    if (hideTooltipOnClick && apiRef.current) {\n      apiRef.current.requestHide({\n        isImmediate: true\n      });\n    }\n  }, [hideTooltipOnClick]); // Ideally we would be using onMouseEnter here, but\n  // because we are binding the event to the target parent\n  // we need to listen for the mouseover of all sub elements\n  // This means when moving along a tooltip we are quickly toggling\n  // between api.requestHide and api.keep. This it not ideal\n\n  var onMouseOver = useCallback(function (event) {\n    // Ignoring events from the container ref\n    if (event.target === containerRef.current) {\n      return;\n    } // Using prevent default as a signal that parent tooltips\n\n\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    event.preventDefault();\n    var source = position === 'mouse' ? {\n      type: 'mouse',\n      // TODO: ideally not recalculating this object each time\n      mouse: getMousePosition({\n        left: event.clientX,\n        top: event.clientY\n      })\n    } : {\n      type: 'keyboard'\n    };\n    showTooltip(source);\n  }, [position, showTooltip]); // Ideally we would be using onMouseEnter here, but\n  // because we are binding the event to the target parent\n  // we need to listen for the mouseout of all sub elements\n  // This means when moving along a tooltip we are quickly toggling\n  // between api.requestHide and api.keep. This it not ideal\n\n  var onMouseOut = useCallback(function (event) {\n    // Ignoring events from the container ref\n    if (event.target === containerRef.current) {\n      return;\n    } // Using prevent default as a signal that parent tooltips\n\n\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    event.preventDefault();\n\n    if (apiRef.current) {\n      apiRef.current.requestHide({\n        isImmediate: false\n      });\n    }\n  }, []);\n  var onMouseOverTooltip = useCallback(function () {\n    if (apiRef.current && apiRef.current.isActive()) {\n      apiRef.current.keep();\n      return;\n    }\n  }, []);\n  var onFocus = useCallback(function () {\n    showTooltip({\n      type: 'keyboard'\n    });\n  }, [showTooltip]);\n  var onBlur = useCallback(function () {\n    if (apiRef.current) {\n      apiRef.current.requestHide({\n        isImmediate: false\n      });\n    }\n  }, []);\n  var onAnimationFinished = useCallback(function (transition) {\n    // Using lastState here because motion is not picking up the latest value\n    if (transition === 'exiting' && lastState.current === 'fade-out' && apiRef.current) {\n      // @ts-ignore: refs are writeable\n      apiRef.current.finishHideAnimation();\n    }\n  }, []); // Doing a cast because typescript is struggling to narrow the type\n\n  var CastTargetContainer = TargetContainer;\n  var shouldRenderTooltipContainer = state !== 'hide' && Boolean(content);\n  var shouldRenderTooltipChildren = state === 'show-immediate' || state === 'show-fade-in';\n\n  var getReferentElement = function getReferentElement() {\n    // Use the initial mouse position if appropriate, or the target element\n    var api = apiRef.current;\n    var initialMouse = api ? api.getInitialMouse() : null;\n\n    if (position === 'mouse' && initialMouse) {\n      return initialMouse;\n    }\n\n    return targetRef.current || undefined;\n  };\n\n  return jsx(React.Fragment, null, jsx(CastTargetContainer, {\n    onMouseOver: onMouseOver,\n    onMouseOut: onMouseOut,\n    onClick: onClick,\n    onMouseDown: onMouseDown,\n    onFocus: onFocus,\n    onBlur: onBlur,\n    ref: setRef,\n    \"data-testid\": testId ? \"\".concat(testId, \"--container\") : undefined,\n    role: \"presentation\"\n  }, children), shouldRenderTooltipContainer ? jsx(Portal, {\n    zIndex: tooltipZIndex\n  }, jsx(Popper, {\n    placement: tooltipPosition,\n    referenceElement: getReferentElement(),\n    strategy: strategy\n  }, function (_ref4) {\n    var ref = _ref4.ref,\n        style = _ref4.style,\n        update = _ref4.update;\n    return jsx(ExitingPersistence, {\n      appear: true\n    }, shouldRenderTooltipChildren && jsx(FadeIn, {\n      onFinish: onAnimationFinished,\n      duration: state === 'show-immediate' ? 0 : undefined\n    }, function (_ref5) {\n      var className = _ref5.className;\n      return (// eslint-disable-next-line jsx-a11y/mouse-events-have-key-events\n        jsx(Container, {\n          ref: ref,\n          className: \"Tooltip \".concat(className),\n          style: style,\n          truncate: truncate,\n          placement: tooltipPosition,\n          testId: testId,\n          onMouseOut: onMouseOut,\n          onMouseOver: onMouseOverTooltip\n        }, typeof content === 'function' ? content({\n          update: update\n        }) : content)\n      );\n    }));\n  })) : null);\n}\n\nTooltip.displayName = 'Tooltip';\nexport default Tooltip;"]},"metadata":{},"sourceType":"module"}