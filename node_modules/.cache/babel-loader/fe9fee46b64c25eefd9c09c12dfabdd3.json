{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n/* eslint-disable react/prop-types */\n\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { ThemeProvider } from 'styled-components';\nimport { createAndFireEvent, withAnalyticsContext, withAnalyticsEvents } from '@atlaskit/analytics-next';\nimport Layer from '@atlaskit/layer';\nimport Spinner from '@atlaskit/spinner';\nimport { gridSize } from '@atlaskit/theme/constants';\nimport Wrapper, { Content, SpinnerContainer, Trigger } from '../styled/Droplist';\nimport itemTheme from '../theme/item-theme';\nvar packageName = \"@atlaskit/droplist\";\nvar packageVersion = \"11.0.7\";\nvar halfFocusRing = 1;\nvar dropOffset = \"0, \".concat(gridSize(), \"px\");\n\nif (process.env.NODE_ENV !== 'production' && !process.env.CI) {\n  // eslint-disable-next-line no-console\n  console.warn('@atlaskit/droplist has been deprecated. It is an internal component and should not be used directly.');\n}\n\nvar Droplist = /*#__PURE__*/function (_Component) {\n  _inherits(Droplist, _Component);\n\n  var _super = _createSuper(Droplist);\n\n  function Droplist() {\n    var _this;\n\n    _classCallCheck(this, Droplist);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"componentDidMount\", function () {\n      _this.setContentWidth(); // We use a captured event here to avoid a radio or checkbox dropdown item firing its\n      // click event first, which would cause a re-render of the element and prevent Droplist\n      // from detecting the actual source of this original click event.\n\n\n      document.addEventListener('click', _this.handleClickOutside, true);\n      document.addEventListener('keydown', _this.handleEsc);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"componentDidUpdate\", function () {\n      if (_this.props.isOpen) {\n        _this.setContentWidth();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"componentWillUnmount\", function () {\n      document.removeEventListener('click', _this.handleClickOutside, true);\n      document.removeEventListener('keydown', _this.handleEsc);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setContentWidth\", function () {\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          dropContentRef = _assertThisInitialize.dropContentRef,\n          triggerRef = _assertThisInitialize.triggerRef;\n\n      var shouldFitContainer = _this.props.shouldFitContainer; // We need to manually set the content width to match the trigger width\n      // if props.shouldFitContainer is true\n\n      if (shouldFitContainer && dropContentRef && triggerRef) {\n        dropContentRef.style.width = \"\".concat(triggerRef.offsetWidth - halfFocusRing * 2, \"px\");\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleEsc\", function (event) {\n      if ((event.key === 'Escape' || event.key === 'Esc') && _this.props.isOpen) {\n        _this.close(event);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClickOutside\", function (event) {\n      if (_this.props.isOpen) {\n        if (event.target instanceof Node) {\n          // Rather than check for the target within the entire Droplist, we specify the trigger/content.\n          // This aids with future effort in scroll-locking Droplist when isMenuFixed is enabled; the scroll\n          // blanket which stretches to the viewport should not stop 'close' from being triggered.\n          var withinTrigger = _this.triggerRef && _this.triggerRef.contains(event.target);\n\n          var withinContent = _this.dropContentRef && _this.dropContentRef.contains(event.target);\n\n          if (!withinTrigger && !withinContent) {\n            _this.close(event);\n          }\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"close\", function (event) {\n      if (_this.props.onOpenChange) {\n        _this.props.onOpenChange({\n          isOpen: false,\n          event: event\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleContentRef\", function (ref) {\n      _this.dropContentRef = ref; // If the dropdown has just been opened, we focus on the containing element so the\n      // user can tab to the first dropdown item. We will only receive this ref if isOpen\n      // is true or null, so no need to check for truthiness here.\n\n      if (ref) {\n        ref.focus();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleTriggerRef\", function (ref) {\n      _this.triggerRef = ref;\n    });\n\n    return _this;\n  }\n\n  _createClass(Droplist, [{\n    key: \"getChildContext\",\n    value: function getChildContext() {\n      return {\n        shouldAllowMultilineItems: this.props.shouldAllowMultilineItems\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          appearance = _this$props.appearance,\n          boundariesElement = _this$props.boundariesElement,\n          children = _this$props.children,\n          isLoading = _this$props.isLoading,\n          isOpen = _this$props.isOpen,\n          maxHeight = _this$props.maxHeight,\n          onClick = _this$props.onClick,\n          onKeyDown = _this$props.onKeyDown,\n          position = _this$props.position,\n          isMenuFixed = _this$props.isMenuFixed,\n          shouldFitContainer = _this$props.shouldFitContainer,\n          shouldFlip = _this$props.shouldFlip,\n          trigger = _this$props.trigger,\n          onPositioned = _this$props.onPositioned,\n          testId = _this$props.testId;\n      var layerContent = isOpen ? /*#__PURE__*/React.createElement(Content, {\n        \"data-role\": \"droplistContent\",\n        \"data-testid\": testId && \"\".concat(testId, \"--content\"),\n        isTall: appearance === 'tall',\n        innerRef: this.handleContentRef,\n        maxHeight: maxHeight\n      }, isLoading ? /*#__PURE__*/React.createElement(SpinnerContainer, null, /*#__PURE__*/React.createElement(Spinner, {\n        size: \"small\"\n      })) : /*#__PURE__*/React.createElement(ThemeProvider, {\n        theme: itemTheme\n      }, /*#__PURE__*/React.createElement(\"div\", null, children))) : null;\n      return /*#__PURE__*/React.createElement(Wrapper, {\n        fit: shouldFitContainer,\n        onClick: onClick,\n        onKeyDown: onKeyDown\n      }, /*#__PURE__*/React.createElement(Layer, {\n        autoFlip: shouldFlip,\n        boundariesElement: boundariesElement,\n        content: layerContent,\n        offset: dropOffset,\n        position: position,\n        isAlwaysFixed: isOpen && isMenuFixed,\n        onPositioned: onPositioned\n      }, /*#__PURE__*/React.createElement(Trigger, {\n        fit: shouldFitContainer,\n        innerRef: this.handleTriggerRef\n      }, trigger)));\n    }\n  }]);\n\n  return Droplist;\n}(Component);\n\n_defineProperty(Droplist, \"defaultProps\", {\n  appearance: 'default',\n  boundariesElement: 'viewport',\n  children: null,\n  isLoading: false,\n  isOpen: false,\n  onClick: function onClick() {},\n  onKeyDown: function onKeyDown() {},\n  onOpenChange: function onOpenChange() {},\n  position: 'bottom left',\n  isMenuFixed: false,\n  shouldAllowMultilineItems: false,\n  shouldFitContainer: false,\n  shouldFlip: true,\n  trigger: null,\n  onPositioned: function onPositioned() {}\n});\n\n_defineProperty(Droplist, \"childContextTypes\", {\n  shouldAllowMultilineItems: PropTypes.bool\n});\n\nexport { Droplist as DroplistWithoutAnalytics };\nvar createAndFireEventOnAtlaskit = createAndFireEvent('atlaskit');\nexport default withAnalyticsContext({\n  componentName: 'droplist',\n  packageName: packageName,\n  packageVersion: packageVersion\n})(withAnalyticsEvents({\n  onOpenChange: createAndFireEventOnAtlaskit({\n    action: 'toggled',\n    actionSubject: 'droplist',\n    attributes: {\n      componentName: 'droplist',\n      packageName: packageName,\n      packageVersion: packageVersion\n    }\n  })\n})(Droplist));","map":{"version":3,"sources":["/home/sandy/Documents/evatix/create-components/node_modules/@atlaskit/dropdown-menu/node_modules/@atlaskit/droplist/dist/esm/components/Droplist.js"],"names":["_classCallCheck","_createClass","_assertThisInitialized","_inherits","_possibleConstructorReturn","_getPrototypeOf","_defineProperty","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","constructor","Reflect","construct","arguments","apply","sham","Proxy","Date","prototype","toString","call","e","React","Component","PropTypes","ThemeProvider","createAndFireEvent","withAnalyticsContext","withAnalyticsEvents","Layer","Spinner","gridSize","Wrapper","Content","SpinnerContainer","Trigger","itemTheme","packageName","packageVersion","halfFocusRing","dropOffset","concat","process","env","NODE_ENV","CI","console","warn","Droplist","_Component","_super","_this","_len","length","args","Array","_key","setContentWidth","document","addEventListener","handleClickOutside","handleEsc","props","isOpen","removeEventListener","_assertThisInitialize","dropContentRef","triggerRef","shouldFitContainer","style","width","offsetWidth","event","key","close","target","Node","withinTrigger","contains","withinContent","onOpenChange","ref","focus","value","getChildContext","shouldAllowMultilineItems","render","_this$props","appearance","boundariesElement","children","isLoading","maxHeight","onClick","onKeyDown","position","isMenuFixed","shouldFlip","trigger","onPositioned","testId","layerContent","createElement","isTall","innerRef","handleContentRef","size","theme","fit","autoFlip","content","offset","isAlwaysFixed","handleTriggerRef","bool","DroplistWithoutAnalytics","createAndFireEventOnAtlaskit","componentName","action","actionSubject","attributes"],"mappings":"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","sourcesContent":["import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n/* eslint-disable react/prop-types */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { ThemeProvider } from 'styled-components';\nimport { createAndFireEvent, withAnalyticsContext, withAnalyticsEvents } from '@atlaskit/analytics-next';\nimport Layer from '@atlaskit/layer';\nimport Spinner from '@atlaskit/spinner';\nimport { gridSize } from '@atlaskit/theme/constants';\nimport Wrapper, { Content, SpinnerContainer, Trigger } from '../styled/Droplist';\nimport itemTheme from '../theme/item-theme';\nvar packageName = \"@atlaskit/droplist\";\nvar packageVersion = \"11.0.7\";\nvar halfFocusRing = 1;\nvar dropOffset = \"0, \".concat(gridSize(), \"px\");\n\nif (process.env.NODE_ENV !== 'production' && !process.env.CI) {\n  // eslint-disable-next-line no-console\n  console.warn('@atlaskit/droplist has been deprecated. It is an internal component and should not be used directly.');\n}\n\nvar Droplist = /*#__PURE__*/function (_Component) {\n  _inherits(Droplist, _Component);\n\n  var _super = _createSuper(Droplist);\n\n  function Droplist() {\n    var _this;\n\n    _classCallCheck(this, Droplist);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"componentDidMount\", function () {\n      _this.setContentWidth(); // We use a captured event here to avoid a radio or checkbox dropdown item firing its\n      // click event first, which would cause a re-render of the element and prevent Droplist\n      // from detecting the actual source of this original click event.\n\n\n      document.addEventListener('click', _this.handleClickOutside, true);\n      document.addEventListener('keydown', _this.handleEsc);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"componentDidUpdate\", function () {\n      if (_this.props.isOpen) {\n        _this.setContentWidth();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"componentWillUnmount\", function () {\n      document.removeEventListener('click', _this.handleClickOutside, true);\n      document.removeEventListener('keydown', _this.handleEsc);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setContentWidth\", function () {\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          dropContentRef = _assertThisInitialize.dropContentRef,\n          triggerRef = _assertThisInitialize.triggerRef;\n\n      var shouldFitContainer = _this.props.shouldFitContainer; // We need to manually set the content width to match the trigger width\n      // if props.shouldFitContainer is true\n\n      if (shouldFitContainer && dropContentRef && triggerRef) {\n        dropContentRef.style.width = \"\".concat(triggerRef.offsetWidth - halfFocusRing * 2, \"px\");\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleEsc\", function (event) {\n      if ((event.key === 'Escape' || event.key === 'Esc') && _this.props.isOpen) {\n        _this.close(event);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClickOutside\", function (event) {\n      if (_this.props.isOpen) {\n        if (event.target instanceof Node) {\n          // Rather than check for the target within the entire Droplist, we specify the trigger/content.\n          // This aids with future effort in scroll-locking Droplist when isMenuFixed is enabled; the scroll\n          // blanket which stretches to the viewport should not stop 'close' from being triggered.\n          var withinTrigger = _this.triggerRef && _this.triggerRef.contains(event.target);\n\n          var withinContent = _this.dropContentRef && _this.dropContentRef.contains(event.target);\n\n          if (!withinTrigger && !withinContent) {\n            _this.close(event);\n          }\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"close\", function (event) {\n      if (_this.props.onOpenChange) {\n        _this.props.onOpenChange({\n          isOpen: false,\n          event: event\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleContentRef\", function (ref) {\n      _this.dropContentRef = ref; // If the dropdown has just been opened, we focus on the containing element so the\n      // user can tab to the first dropdown item. We will only receive this ref if isOpen\n      // is true or null, so no need to check for truthiness here.\n\n      if (ref) {\n        ref.focus();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleTriggerRef\", function (ref) {\n      _this.triggerRef = ref;\n    });\n\n    return _this;\n  }\n\n  _createClass(Droplist, [{\n    key: \"getChildContext\",\n    value: function getChildContext() {\n      return {\n        shouldAllowMultilineItems: this.props.shouldAllowMultilineItems\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          appearance = _this$props.appearance,\n          boundariesElement = _this$props.boundariesElement,\n          children = _this$props.children,\n          isLoading = _this$props.isLoading,\n          isOpen = _this$props.isOpen,\n          maxHeight = _this$props.maxHeight,\n          onClick = _this$props.onClick,\n          onKeyDown = _this$props.onKeyDown,\n          position = _this$props.position,\n          isMenuFixed = _this$props.isMenuFixed,\n          shouldFitContainer = _this$props.shouldFitContainer,\n          shouldFlip = _this$props.shouldFlip,\n          trigger = _this$props.trigger,\n          onPositioned = _this$props.onPositioned,\n          testId = _this$props.testId;\n      var layerContent = isOpen ? /*#__PURE__*/React.createElement(Content, {\n        \"data-role\": \"droplistContent\",\n        \"data-testid\": testId && \"\".concat(testId, \"--content\"),\n        isTall: appearance === 'tall',\n        innerRef: this.handleContentRef,\n        maxHeight: maxHeight\n      }, isLoading ? /*#__PURE__*/React.createElement(SpinnerContainer, null, /*#__PURE__*/React.createElement(Spinner, {\n        size: \"small\"\n      })) : /*#__PURE__*/React.createElement(ThemeProvider, {\n        theme: itemTheme\n      }, /*#__PURE__*/React.createElement(\"div\", null, children))) : null;\n      return /*#__PURE__*/React.createElement(Wrapper, {\n        fit: shouldFitContainer,\n        onClick: onClick,\n        onKeyDown: onKeyDown\n      }, /*#__PURE__*/React.createElement(Layer, {\n        autoFlip: shouldFlip,\n        boundariesElement: boundariesElement,\n        content: layerContent,\n        offset: dropOffset,\n        position: position,\n        isAlwaysFixed: isOpen && isMenuFixed,\n        onPositioned: onPositioned\n      }, /*#__PURE__*/React.createElement(Trigger, {\n        fit: shouldFitContainer,\n        innerRef: this.handleTriggerRef\n      }, trigger)));\n    }\n  }]);\n\n  return Droplist;\n}(Component);\n\n_defineProperty(Droplist, \"defaultProps\", {\n  appearance: 'default',\n  boundariesElement: 'viewport',\n  children: null,\n  isLoading: false,\n  isOpen: false,\n  onClick: function onClick() {},\n  onKeyDown: function onKeyDown() {},\n  onOpenChange: function onOpenChange() {},\n  position: 'bottom left',\n  isMenuFixed: false,\n  shouldAllowMultilineItems: false,\n  shouldFitContainer: false,\n  shouldFlip: true,\n  trigger: null,\n  onPositioned: function onPositioned() {}\n});\n\n_defineProperty(Droplist, \"childContextTypes\", {\n  shouldAllowMultilineItems: PropTypes.bool\n});\n\nexport { Droplist as DroplistWithoutAnalytics };\nvar createAndFireEventOnAtlaskit = createAndFireEvent('atlaskit');\nexport default withAnalyticsContext({\n  componentName: 'droplist',\n  packageName: packageName,\n  packageVersion: packageVersion\n})(withAnalyticsEvents({\n  onOpenChange: createAndFireEventOnAtlaskit({\n    action: 'toggled',\n    actionSubject: 'droplist',\n    attributes: {\n      componentName: 'droplist',\n      packageName: packageName,\n      packageVersion: packageVersion\n    }\n  })\n})(Droplist));"]},"metadata":{},"sourceType":"module"}