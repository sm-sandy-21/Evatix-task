{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { focusManagerContext } from '../../util/contextNamespace';\nimport { KEY_DOWN, KEY_TAB, KEY_UP } from '../../util/keys';\n\nvar DropdownItemFocusManager = /*#__PURE__*/function (_Component) {\n  _inherits(DropdownItemFocusManager, _Component);\n\n  var _super = _createSuper(DropdownItemFocusManager);\n\n  function DropdownItemFocusManager() {\n    var _this;\n\n    _classCallCheck(this, DropdownItemFocusManager);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"registeredItems\", []);\n\n    _defineProperty(_assertThisInitialized(_this), \"handleItemRegistered\", function (itemId, itemNode) {\n      _this.registeredItems.push({\n        itemId: itemId,\n        itemNode: itemNode\n      });\n\n      if (_this.props.autoFocus && _this.registeredItems.length === 1) {\n        _this.focusedItemId = itemId;\n        itemNode.focus();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleItemDeregistered\", function (itemId) {\n      _this.registeredItems = _this.registeredItems.filter(function (item) {\n        return item.itemId !== itemId;\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleItemFocused\", function (itemId) {\n      _this.focusedItemId = itemId;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleItemUpdated\", function (itemId, itemNode) {\n      var matchingIndex = -1;\n\n      for (var i = 0; i < _this.registeredItems.length; i++) {\n        if (_this.registeredItems[i].itemId === itemId) {\n          matchingIndex = i;\n          break;\n        }\n      }\n\n      if (matchingIndex === -1) {\n        _this.handleItemRegistered(itemId, itemNode);\n\n        return;\n      }\n\n      _this.registeredItems[matchingIndex].itemNode = itemNode;\n\n      if (_this.focusedItemIndex() === matchingIndex) {\n        itemNode.focus();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"focusedItemIndex\", function () {\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          focusedItemId = _assertThisInitialize.focusedItemId,\n          registeredItems = _assertThisInitialize.registeredItems;\n\n      for (var i = 0; i < registeredItems.length; i++) {\n        if (registeredItems[i].itemId === focusedItemId) {\n          return i;\n        }\n      }\n\n      return -1;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleKeyboard\", function (event) {\n      var key = event.key,\n          shiftKey = event.shiftKey;\n\n      var focusedItemIndex = _this.focusedItemIndex();\n\n      if (key === KEY_UP || key === KEY_DOWN) {\n        // We prevent default here to avoid page scrolling when up/down\n        // pressed while dropdown is focused.\n        event.preventDefault();\n\n        if (focusedItemIndex < 0) {\n          return;\n        }\n\n        var nextItemIndex = key === KEY_UP ? Math.max(0, focusedItemIndex - 1) : Math.min(_this.registeredItems.length - 1, focusedItemIndex + 1);\n\n        _this.registeredItems[nextItemIndex].itemNode.focus();\n      }\n\n      if (key === KEY_TAB) {\n        if (!shiftKey && focusedItemIndex === _this.registeredItems.length - 1) {\n          if (_this.props.close) {\n            _this.props.close({\n              event: event,\n              source: 'keydown'\n            });\n          }\n        }\n\n        if (shiftKey && focusedItemIndex === 0) {\n          if (_this.props.close) {\n            _this.props.close({\n              event: event,\n              source: 'keydown'\n            });\n          }\n        }\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(DropdownItemFocusManager, [{\n    key: \"getChildContext\",\n    value: function getChildContext() {\n      return _defineProperty({}, focusManagerContext, {\n        itemFocused: this.handleItemFocused,\n        registerItem: this.handleItemRegistered,\n        deregisterItem: this.handleItemDeregistered,\n        updateItem: this.handleItemUpdated\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      // eslint-disable-next-line jsx-a11y/no-static-element-interactions\n      return /*#__PURE__*/React.createElement(\"div\", {\n        onKeyDown: this.handleKeyboard\n      }, this.props.children);\n    }\n  }]);\n\n  return DropdownItemFocusManager;\n}(Component);\n\n_defineProperty(DropdownItemFocusManager, \"childContextTypes\", _defineProperty({}, focusManagerContext, PropTypes.object));\n\nexport { DropdownItemFocusManager as default };","map":{"version":3,"sources":["/home/sandy/Documents/evatix/create-components/node_modules/@atlaskit/dropdown-menu/dist/esm/components/context/DropdownItemFocusManager.js"],"names":["_classCallCheck","_createClass","_assertThisInitialized","_inherits","_possibleConstructorReturn","_getPrototypeOf","_defineProperty","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","constructor","Reflect","construct","arguments","apply","sham","Proxy","Date","prototype","toString","call","e","React","Component","PropTypes","focusManagerContext","KEY_DOWN","KEY_TAB","KEY_UP","DropdownItemFocusManager","_Component","_super","_this","_len","length","args","Array","_key","concat","itemId","itemNode","registeredItems","push","props","autoFocus","focusedItemId","focus","filter","item","matchingIndex","i","handleItemRegistered","focusedItemIndex","_assertThisInitialize","event","key","shiftKey","preventDefault","nextItemIndex","Math","max","min","close","source","value","getChildContext","itemFocused","handleItemFocused","registerItem","deregisterItem","handleItemDeregistered","updateItem","handleItemUpdated","render","createElement","onKeyDown","handleKeyboard","children","object","default"],"mappings":"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","sourcesContent":["import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { focusManagerContext } from '../../util/contextNamespace';\nimport { KEY_DOWN, KEY_TAB, KEY_UP } from '../../util/keys';\n\nvar DropdownItemFocusManager = /*#__PURE__*/function (_Component) {\n  _inherits(DropdownItemFocusManager, _Component);\n\n  var _super = _createSuper(DropdownItemFocusManager);\n\n  function DropdownItemFocusManager() {\n    var _this;\n\n    _classCallCheck(this, DropdownItemFocusManager);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"registeredItems\", []);\n\n    _defineProperty(_assertThisInitialized(_this), \"handleItemRegistered\", function (itemId, itemNode) {\n      _this.registeredItems.push({\n        itemId: itemId,\n        itemNode: itemNode\n      });\n\n      if (_this.props.autoFocus && _this.registeredItems.length === 1) {\n        _this.focusedItemId = itemId;\n        itemNode.focus();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleItemDeregistered\", function (itemId) {\n      _this.registeredItems = _this.registeredItems.filter(function (item) {\n        return item.itemId !== itemId;\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleItemFocused\", function (itemId) {\n      _this.focusedItemId = itemId;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleItemUpdated\", function (itemId, itemNode) {\n      var matchingIndex = -1;\n\n      for (var i = 0; i < _this.registeredItems.length; i++) {\n        if (_this.registeredItems[i].itemId === itemId) {\n          matchingIndex = i;\n          break;\n        }\n      }\n\n      if (matchingIndex === -1) {\n        _this.handleItemRegistered(itemId, itemNode);\n\n        return;\n      }\n\n      _this.registeredItems[matchingIndex].itemNode = itemNode;\n\n      if (_this.focusedItemIndex() === matchingIndex) {\n        itemNode.focus();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"focusedItemIndex\", function () {\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          focusedItemId = _assertThisInitialize.focusedItemId,\n          registeredItems = _assertThisInitialize.registeredItems;\n\n      for (var i = 0; i < registeredItems.length; i++) {\n        if (registeredItems[i].itemId === focusedItemId) {\n          return i;\n        }\n      }\n\n      return -1;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleKeyboard\", function (event) {\n      var key = event.key,\n          shiftKey = event.shiftKey;\n\n      var focusedItemIndex = _this.focusedItemIndex();\n\n      if (key === KEY_UP || key === KEY_DOWN) {\n        // We prevent default here to avoid page scrolling when up/down\n        // pressed while dropdown is focused.\n        event.preventDefault();\n\n        if (focusedItemIndex < 0) {\n          return;\n        }\n\n        var nextItemIndex = key === KEY_UP ? Math.max(0, focusedItemIndex - 1) : Math.min(_this.registeredItems.length - 1, focusedItemIndex + 1);\n\n        _this.registeredItems[nextItemIndex].itemNode.focus();\n      }\n\n      if (key === KEY_TAB) {\n        if (!shiftKey && focusedItemIndex === _this.registeredItems.length - 1) {\n          if (_this.props.close) {\n            _this.props.close({\n              event: event,\n              source: 'keydown'\n            });\n          }\n        }\n\n        if (shiftKey && focusedItemIndex === 0) {\n          if (_this.props.close) {\n            _this.props.close({\n              event: event,\n              source: 'keydown'\n            });\n          }\n        }\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(DropdownItemFocusManager, [{\n    key: \"getChildContext\",\n    value: function getChildContext() {\n      return _defineProperty({}, focusManagerContext, {\n        itemFocused: this.handleItemFocused,\n        registerItem: this.handleItemRegistered,\n        deregisterItem: this.handleItemDeregistered,\n        updateItem: this.handleItemUpdated\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      // eslint-disable-next-line jsx-a11y/no-static-element-interactions\n      return /*#__PURE__*/React.createElement(\"div\", {\n        onKeyDown: this.handleKeyboard\n      }, this.props.children);\n    }\n  }]);\n\n  return DropdownItemFocusManager;\n}(Component);\n\n_defineProperty(DropdownItemFocusManager, \"childContextTypes\", _defineProperty({}, focusManagerContext, PropTypes.object));\n\nexport { DropdownItemFocusManager as default };"]},"metadata":{},"sourceType":"module"}