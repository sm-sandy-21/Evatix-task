{"ast":null,"code":"import _typeof from \"@babel/runtime/helpers/typeof\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n/* eslint-disable react/prop-types */\n\n\nimport React, { Component } from 'react';\nimport styled from 'styled-components';\nimport rafSchedule from 'raf-schd';\nimport Popper from 'popper.js'; // eslint-disable-line import/extensions\n\nimport ScrollBlock from './internal/ScrollBlock';\nimport { getFlipBehavior, positionPropToPopperPosition } from './internal/helpers';\nimport ContentContainer from '../styledContentContainer'; // We create a dummy target when making the menu fixed so that we can force popper.js to use fixed positioning\n// without affecting child layout of the actual target since children of fixed position elements can't use percentage\n// heights/widths.\n\nvar FixedTarget = styled.div.withConfig({\n  displayName: \"Layer__FixedTarget\",\n  componentId: \"qunuuz-0\"\n})([\"\\n  \", \";\\n\"], function (_ref) {\n  var fixedOffset = _ref.fixedOffset,\n      targetRef = _ref.targetRef;\n\n  if (fixedOffset && targetRef) {\n    var actualTarget = targetRef.firstChild;\n    var rect = actualTarget.getBoundingClientRect();\n    return \"\\n        position: fixed;\\n        top: \".concat(fixedOffset.top, \"px;\\n        left: \").concat(fixedOffset.left, \"px;\\n        height: \").concat(rect.height, \"px;\\n        width: \").concat(rect.width, \"px;\\n        z-index: -1;\\n      \");\n  }\n\n  return 'display: none;';\n});\n\nif (process.env.NODE_ENV !== 'production' && !process.env.CI) {\n  // eslint-disable-next-line no-console\n  console.warn('@atlaskit/layer has been deprecated. It is an internal component and should not be used directly.');\n}\n\nvar Layer = /*#__PURE__*/function (_Component) {\n  _inherits(Layer, _Component);\n\n  var _super = _createSuper(Layer); // working with extract-react-types\n\n\n  function Layer(props) {\n    var _this;\n\n    _classCallCheck(this, Layer);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"popper\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"targetRef\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"contentRef\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"fixedRef\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"extractStyles\", function (state) {\n      if (state) {\n        var popperHeight = state.offsets.popper.height;\n        var left = Math.round(state.offsets.popper.left); // The offset position is sometimes an object and sometimes just a string...\n\n        var cssPosition = _typeof(state.offsets.popper.position) === 'object' ? state.offsets.popper.position.position : state.offsets.popper.position;\n\n        var top = _this.fixPositionTopUnderflow(state.offsets.popper.top, cssPosition);\n\n        var originalHeight = _this.state.originalHeight || popperHeight;\n\n        var maxHeight = _this.calculateMaxHeight(originalHeight, popperHeight, top, cssPosition);\n\n        _this.setState({\n          // position: fixed or absolute\n          cssPosition: cssPosition,\n          hasExtractedStyles: true,\n          transform: \"translate3d(\".concat(left, \"px, \").concat(top, \"px, 0px)\"),\n          // state.flipped is either true or undefined\n          flipped: !!state.flipped,\n          actualPosition: state.position,\n          originalPosition: state.originalPosition,\n          originalHeight: originalHeight,\n          maxHeight: maxHeight\n        });\n      }\n    });\n\n    _this.state = {\n      hasExtractedStyles: false,\n      position: null,\n      transform: null,\n      flipped: false,\n      actualPosition: null,\n      // We set these default offsets to prevent a flash of popper content in the wrong position\n      // which can cause incorrect height calculations. Popper will calculate these values\n      offsets: {\n        popper: {\n          left: -9999,\n          top: -9999\n        }\n      },\n      originalPosition: null,\n      // fix Safari parent width: https://product-fabric.atlassian.net/browse/ED-1784\n      cssPosition: 'absolute',\n      originalHeight: null,\n      maxHeight: null,\n      fixedOffset: null\n    };\n    _this.extractStyles = rafSchedule(_this.extractStyles.bind(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Layer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.applyPopper(this.props);\n      this.calculateFixedOffset(this.props);\n    }\n  }, {\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {\n      this.applyPopper(nextProps);\n      this.calculateFixedOffset(nextProps);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      var _this$props = this.props,\n          onFlippedChange = _this$props.onFlippedChange,\n          onPositioned = _this$props.onPositioned;\n      var _this$state = this.state,\n          flipped = _this$state.flipped,\n          actualPosition = _this$state.actualPosition,\n          originalPosition = _this$state.originalPosition,\n          hasExtractedStyles = _this$state.hasExtractedStyles;\n\n      if (prevState.flipped !== flipped && onFlippedChange) {\n        onFlippedChange({\n          flipped: flipped,\n          actualPosition: actualPosition,\n          originalPosition: originalPosition\n        });\n      } // This flag is set the first time the position is calculated from Popper and applied to the content\n\n\n      if (!prevState.hasExtractedStyles && hasExtractedStyles && onPositioned) {\n        onPositioned();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.extractStyles.cancel();\n\n      if (this.popper) {\n        this.popper.destroy();\n      }\n    }\n    /* Calculate the max height of the popper if it's height is greater than the viewport to prevent\n     * the bottom of the popper not being viewable.\n     * Only works if the popper uses viewport as the boundary and has a fixed position ancestor.\n     */\n\n  }, {\n    key: \"calculateMaxHeight\",\n    value: function calculateMaxHeight(originalHeight, currentHeight, positionTop, cssPosition) {\n      var DocumentElementClientHeight = 0;\n\n      if (document.documentElement) {\n        DocumentElementClientHeight = document.documentElement.clientHeight;\n      }\n\n      if (cssPosition !== 'fixed' || this.props.boundariesElement !== 'viewport') {\n        return null;\n      }\n\n      var viewportHeight = Math.max(DocumentElementClientHeight, window.innerHeight || 0);\n      return viewportHeight < originalHeight && currentHeight + positionTop >= viewportHeight - 50 ? // allow some spacing either side of viewport height\n      viewportHeight - 12 : null;\n    }\n    /* Popper may return either a fixed or absolute position which would be applied to the\n     * content style. In order to overcome clipping issues for overflow containing blocks when\n     * the position is absolute, we create a fixed position wrapper.\n     */\n\n  }, {\n    key: \"calculateFixedOffset\",\n    value: function calculateFixedOffset(props) {\n      var isAlwaysFixed = props.isAlwaysFixed;\n\n      if (isAlwaysFixed && this.targetRef) {\n        var actualTarget = this.targetRef.firstChild;\n        this.setState({\n          fixedOffset: {\n            top: actualTarget.getBoundingClientRect().top,\n            left: actualTarget.getBoundingClientRect().left\n          }\n        });\n      } else if (!isAlwaysFixed && this.state.fixedOffset !== null) {\n        this.setState({\n          fixedOffset: null\n        });\n      }\n    }\n    /* Clamp fixed position to the window for fixed position poppers that flow off the top of the\n     * window.\n     * A fixed position popper is a popper who has an ancestor with position: fixed.\n     *\n     * It is too difficult to fix this for non-fixed position poppers without re-implementing popper's\n     * offset functionality or fixing the issue upstream.\n     */\n    // eslint-disable-next-line class-methods-use-this\n\n  }, {\n    key: \"fixPositionTopUnderflow\",\n    value: function fixPositionTopUnderflow(popperTop, cssPosition) {\n      return popperTop >= 0 || cssPosition !== 'fixed' ? Math.round(popperTop) : 0;\n    }\n  }, {\n    key: \"applyPopper\",\n    value: function applyPopper(props) {\n      if (!this.fixedRef || !this.targetRef || !this.contentRef) {\n        return;\n      }\n\n      if (this.popper) {\n        this.popper.destroy();\n      } // \"new Popper(...)\" operation is very expensive when called on virtual DOM.\n      // This condition reduces the number of calls so we can run our tests faster\n      // (time was reduced from 100s to 13s).\n\n\n      if (!props.content) {\n        return;\n      } // we wrap our target in a div so that we can safely get a reference to it, but we pass the\n      // actual target to popper\n\n\n      var actualTarget = props.isAlwaysFixed ? this.fixedRef : this.targetRef.firstChild;\n      var popperOpts = {\n        placement: positionPropToPopperPosition(props.position),\n        onCreate: this.extractStyles,\n        onUpdate: this.extractStyles,\n        modifiers: {\n          applyStyle: {\n            enabled: false\n          },\n          hide: {\n            enabled: false\n          },\n          offset: {\n            enabled: true,\n            offset: this.props.offset\n          },\n          flip: {\n            enabled: !!this.props.autoFlip,\n            flipVariations: true,\n            boundariesElement: this.props.boundariesElement,\n            padding: 0 // leave 0 pixels between popper and the boundariesElement\n\n          },\n          preventOverflow: {\n            enabled: !!this.props.autoFlip,\n            escapeWithReference: !(this.props.boundariesElement === 'scrollParent')\n          }\n        },\n        positionFixed: props.isAlwaysFixed\n      };\n      var flipBehavior = getFlipBehavior(props);\n\n      if (flipBehavior) {\n        popperOpts.modifiers.flip.behavior = flipBehavior;\n      }\n\n      this.popper = new Popper(actualTarget, this.contentRef, popperOpts);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          zIndex = _this$props2.zIndex,\n          lockScroll = _this$props2.lockScroll;\n      var _this$state2 = this.state,\n          cssPosition = _this$state2.cssPosition,\n          transform = _this$state2.transform,\n          hasExtractedStyles = _this$state2.hasExtractedStyles,\n          maxHeight = _this$state2.maxHeight,\n          fixedOffset = _this$state2.fixedOffset;\n      var opacity = hasExtractedStyles ? {} : {\n        opacity: 0\n      };\n      return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n        ref: function ref(_ref2) {\n          _this2.targetRef = _ref2;\n        }\n      }, this.props.children), /*#__PURE__*/React.createElement(FixedTarget, {\n        targetRef: this.targetRef,\n        fixedOffset: fixedOffset\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          height: '100%',\n          width: '100%'\n        },\n        ref: function ref(_ref3) {\n          _this2.fixedRef = _ref3;\n        }\n      })), lockScroll && /*#__PURE__*/React.createElement(ScrollBlock, null), /*#__PURE__*/React.createElement(ContentContainer, {\n        maxHeight: maxHeight\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        ref: function ref(_ref4) {\n          _this2.contentRef = _ref4;\n        },\n        style: _objectSpread({\n          top: 0,\n          left: 0,\n          position: cssPosition,\n          transform: transform,\n          zIndex: zIndex\n        }, opacity)\n      }, this.props.content)));\n    }\n  }]);\n\n  return Layer;\n}(Component);\n\n_defineProperty(Layer, \"defaultProps\", {\n  autoFlip: true,\n  boundariesElement: 'viewport',\n  children: null,\n  content: null,\n  offset: '0, 0',\n  onFlippedChange: function onFlippedChange() {},\n  position: 'right middle',\n  zIndex: 400,\n  lockScroll: false,\n  isAlwaysFixed: false,\n  onPositioned: function onPositioned() {}\n});\n\nexport { Layer as default };","map":{"version":3,"sources":["/home/sandy/Documents/evatix/create-components/node_modules/@atlaskit/dropdown-menu/node_modules/@atlaskit/layer/dist/esm/components/Layer.js"],"names":["_typeof","_classCallCheck","_createClass","_assertThisInitialized","_inherits","_possibleConstructorReturn","_getPrototypeOf","_defineProperty","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","constructor","Reflect","construct","sham","Proxy","Date","prototype","toString","call","e","React","Component","styled","rafSchedule","Popper","ScrollBlock","getFlipBehavior","positionPropToPopperPosition","ContentContainer","FixedTarget","div","withConfig","displayName","componentId","_ref","fixedOffset","targetRef","actualTarget","firstChild","rect","getBoundingClientRect","concat","top","left","height","width","process","env","NODE_ENV","CI","console","warn","Layer","_Component","_super","props","_this","state","popperHeight","offsets","popper","Math","round","cssPosition","position","fixPositionTopUnderflow","originalHeight","maxHeight","calculateMaxHeight","setState","hasExtractedStyles","transform","flipped","actualPosition","originalPosition","extractStyles","bind","value","componentDidMount","applyPopper","calculateFixedOffset","UNSAFE_componentWillReceiveProps","nextProps","componentDidUpdate","prevProps","prevState","_this$props","onFlippedChange","onPositioned","_this$state","componentWillUnmount","cancel","destroy","currentHeight","positionTop","DocumentElementClientHeight","document","documentElement","clientHeight","boundariesElement","viewportHeight","max","window","innerHeight","isAlwaysFixed","popperTop","fixedRef","contentRef","content","popperOpts","placement","onCreate","onUpdate","modifiers","applyStyle","enabled","hide","offset","flip","autoFlip","flipVariations","padding","preventOverflow","escapeWithReference","positionFixed","flipBehavior","behavior","render","_this2","_this$props2","zIndex","lockScroll","_this$state2","opacity","createElement","ref","_ref2","children","style","_ref3","_ref4","default"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,+BAApB;AACA,OAAOC,eAAP,MAA4B,uCAA5B;AACA,OAAOC,YAAP,MAAyB,oCAAzB;AACA,OAAOC,sBAAP,MAAmC,8CAAnC;AACA,OAAOC,SAAP,MAAsB,iCAAtB;AACA,OAAOC,0BAAP,MAAuC,kDAAvC;AACA,OAAOC,eAAP,MAA4B,uCAA5B;AACA,OAAOC,eAAP,MAA4B,uCAA5B;;AAEA,SAASC,OAAT,CAAiBC,MAAjB,EAAyBC,cAAzB,EAAyC;AAAE,MAAIC,IAAI,GAAGC,MAAM,CAACD,IAAP,CAAYF,MAAZ,CAAX;;AAAgC,MAAIG,MAAM,CAACC,qBAAX,EAAkC;AAAE,QAAIC,OAAO,GAAGF,MAAM,CAACC,qBAAP,CAA6BJ,MAA7B,CAAd;AAAoD,QAAIC,cAAJ,EAAoBI,OAAO,GAAGA,OAAO,CAACC,MAAR,CAAe,UAAUC,GAAV,EAAe;AAAE,aAAOJ,MAAM,CAACK,wBAAP,CAAgCR,MAAhC,EAAwCO,GAAxC,EAA6CE,UAApD;AAAiE,KAAjG,CAAV;AAA8GP,IAAAA,IAAI,CAACQ,IAAL,CAAUC,KAAV,CAAgBT,IAAhB,EAAsBG,OAAtB;AAAiC;;AAAC,SAAOH,IAAP;AAAc;;AAErV,SAASU,aAAT,CAAuBC,MAAvB,EAA+B;AAAE,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,SAAS,CAACC,MAA9B,EAAsCF,CAAC,EAAvC,EAA2C;AAAE,QAAIG,MAAM,GAAGF,SAAS,CAACD,CAAD,CAAT,IAAgB,IAAhB,GAAuBC,SAAS,CAACD,CAAD,CAAhC,GAAsC,EAAnD;;AAAuD,QAAIA,CAAC,GAAG,CAAR,EAAW;AAAEf,MAAAA,OAAO,CAACI,MAAM,CAACc,MAAD,CAAP,EAAiB,IAAjB,CAAP,CAA8BC,OAA9B,CAAsC,UAAUC,GAAV,EAAe;AAAErB,QAAAA,eAAe,CAACe,MAAD,EAASM,GAAT,EAAcF,MAAM,CAACE,GAAD,CAApB,CAAf;AAA4C,OAAnG;AAAuG,KAApH,MAA0H,IAAIhB,MAAM,CAACiB,yBAAX,EAAsC;AAAEjB,MAAAA,MAAM,CAACkB,gBAAP,CAAwBR,MAAxB,EAAgCV,MAAM,CAACiB,yBAAP,CAAiCH,MAAjC,CAAhC;AAA4E,KAApH,MAA0H;AAAElB,MAAAA,OAAO,CAACI,MAAM,CAACc,MAAD,CAAP,CAAP,CAAwBC,OAAxB,CAAgC,UAAUC,GAAV,EAAe;AAAEhB,QAAAA,MAAM,CAACmB,cAAP,CAAsBT,MAAtB,EAA8BM,GAA9B,EAAmChB,MAAM,CAACK,wBAAP,CAAgCS,MAAhC,EAAwCE,GAAxC,CAAnC;AAAmF,OAApI;AAAwI;AAAE;;AAAC,SAAON,MAAP;AAAgB;;AAEthB,SAASU,YAAT,CAAsBC,OAAtB,EAA+B;AAAE,MAAIC,yBAAyB,GAAGC,yBAAyB,EAAzD;;AAA6D,SAAO,SAASC,oBAAT,GAAgC;AAAE,QAAIC,KAAK,GAAG/B,eAAe,CAAC2B,OAAD,CAA3B;AAAA,QAAsCK,MAAtC;;AAA8C,QAAIJ,yBAAJ,EAA+B;AAAE,UAAIK,SAAS,GAAGjC,eAAe,CAAC,IAAD,CAAf,CAAsBkC,WAAtC;;AAAmDF,MAAAA,MAAM,GAAGG,OAAO,CAACC,SAAR,CAAkBL,KAAlB,EAAyBb,SAAzB,EAAoCe,SAApC,CAAT;AAA0D,KAA9I,MAAoJ;AAAED,MAAAA,MAAM,GAAGD,KAAK,CAACjB,KAAN,CAAY,IAAZ,EAAkBI,SAAlB,CAAT;AAAwC;;AAAC,WAAOnB,0BAA0B,CAAC,IAAD,EAAOiC,MAAP,CAAjC;AAAkD,GAAxU;AAA2U;;AAEza,SAASH,yBAAT,GAAqC;AAAE,MAAI,OAAOM,OAAP,KAAmB,WAAnB,IAAkC,CAACA,OAAO,CAACC,SAA/C,EAA0D,OAAO,KAAP;AAAc,MAAID,OAAO,CAACC,SAAR,CAAkBC,IAAtB,EAA4B,OAAO,KAAP;AAAc,MAAI,OAAOC,KAAP,KAAiB,UAArB,EAAiC,OAAO,IAAP;;AAAa,MAAI;AAAEC,IAAAA,IAAI,CAACC,SAAL,CAAeC,QAAf,CAAwBC,IAAxB,CAA6BP,OAAO,CAACC,SAAR,CAAkBG,IAAlB,EAAwB,EAAxB,EAA4B,YAAY,CAAE,CAA1C,CAA7B;AAA2E,WAAO,IAAP;AAAc,GAA/F,CAAgG,OAAOI,CAAP,EAAU;AAAE,WAAO,KAAP;AAAe;AAAE;AAEpU;;;AACA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,WAAP,MAAwB,UAAxB;AACA,OAAOC,MAAP,MAAmB,WAAnB,C,CAAgC;;AAEhC,OAAOC,WAAP,MAAwB,wBAAxB;AACA,SAASC,eAAT,EAA0BC,4BAA1B,QAA8D,oBAA9D;AACA,OAAOC,gBAAP,MAA6B,2BAA7B,C,CAA0D;AAC1D;AACA;;AAEA,IAAIC,WAAW,GAAGP,MAAM,CAACQ,GAAP,CAAWC,UAAX,CAAsB;AACtCC,EAAAA,WAAW,EAAE,oBADyB;AAEtCC,EAAAA,WAAW,EAAE;AAFyB,CAAtB,EAGf,CAAC,MAAD,EAAS,KAAT,CAHe,EAGE,UAAUC,IAAV,EAAgB;AAClC,MAAIC,WAAW,GAAGD,IAAI,CAACC,WAAvB;AAAA,MACIC,SAAS,GAAGF,IAAI,CAACE,SADrB;;AAGA,MAAID,WAAW,IAAIC,SAAnB,EAA8B;AAC5B,QAAIC,YAAY,GAAGD,SAAS,CAACE,UAA7B;AACA,QAAIC,IAAI,GAAGF,YAAY,CAACG,qBAAb,EAAX;AACA,WAAO,4CAA4CC,MAA5C,CAAmDN,WAAW,CAACO,GAA/D,EAAoE,qBAApE,EAA2FD,MAA3F,CAAkGN,WAAW,CAACQ,IAA9G,EAAoH,uBAApH,EAA6IF,MAA7I,CAAoJF,IAAI,CAACK,MAAzJ,EAAiK,sBAAjK,EAAyLH,MAAzL,CAAgMF,IAAI,CAACM,KAArM,EAA4M,mCAA5M,CAAP;AACD;;AAED,SAAO,gBAAP;AACD,CAdiB,CAAlB;;AAgBA,IAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,IAAyC,CAACF,OAAO,CAACC,GAAR,CAAYE,EAA1D,EAA8D;AAC5D;AACAC,EAAAA,OAAO,CAACC,IAAR,CAAa,mGAAb;AACD;;AAED,IAAIC,KAAK,GAAG,aAAa,UAAUC,UAAV,EAAsB;AAC7C/E,EAAAA,SAAS,CAAC8E,KAAD,EAAQC,UAAR,CAAT;;AAEA,MAAIC,MAAM,GAAGpD,YAAY,CAACkD,KAAD,CAAzB,CAH6C,CAK7C;;;AACA,WAASA,KAAT,CAAeG,KAAf,EAAsB;AACpB,QAAIC,KAAJ;;AAEArF,IAAAA,eAAe,CAAC,IAAD,EAAOiF,KAAP,CAAf;;AAEAI,IAAAA,KAAK,GAAGF,MAAM,CAACpC,IAAP,CAAY,IAAZ,EAAkBqC,KAAlB,CAAR;;AAEA9E,IAAAA,eAAe,CAACJ,sBAAsB,CAACmF,KAAD,CAAvB,EAAgC,QAAhC,EAA0C,KAAK,CAA/C,CAAf;;AAEA/E,IAAAA,eAAe,CAACJ,sBAAsB,CAACmF,KAAD,CAAvB,EAAgC,WAAhC,EAA6C,KAAK,CAAlD,CAAf;;AAEA/E,IAAAA,eAAe,CAACJ,sBAAsB,CAACmF,KAAD,CAAvB,EAAgC,YAAhC,EAA8C,KAAK,CAAnD,CAAf;;AAEA/E,IAAAA,eAAe,CAACJ,sBAAsB,CAACmF,KAAD,CAAvB,EAAgC,UAAhC,EAA4C,KAAK,CAAjD,CAAf;;AAEA/E,IAAAA,eAAe,CAACJ,sBAAsB,CAACmF,KAAD,CAAvB,EAAgC,eAAhC,EAAiD,UAAUC,KAAV,EAAiB;AAC/E,UAAIA,KAAJ,EAAW;AACT,YAAIC,YAAY,GAAGD,KAAK,CAACE,OAAN,CAAcC,MAAd,CAAqBhB,MAAxC;AACA,YAAID,IAAI,GAAGkB,IAAI,CAACC,KAAL,CAAWL,KAAK,CAACE,OAAN,CAAcC,MAAd,CAAqBjB,IAAhC,CAAX,CAFS,CAEyC;;AAElD,YAAIoB,WAAW,GAAG7F,OAAO,CAACuF,KAAK,CAACE,OAAN,CAAcC,MAAd,CAAqBI,QAAtB,CAAP,KAA2C,QAA3C,GAAsDP,KAAK,CAACE,OAAN,CAAcC,MAAd,CAAqBI,QAArB,CAA8BA,QAApF,GAA+FP,KAAK,CAACE,OAAN,CAAcC,MAAd,CAAqBI,QAAtI;;AAEA,YAAItB,GAAG,GAAGc,KAAK,CAACS,uBAAN,CAA8BR,KAAK,CAACE,OAAN,CAAcC,MAAd,CAAqBlB,GAAnD,EAAwDqB,WAAxD,CAAV;;AAEA,YAAIG,cAAc,GAAGV,KAAK,CAACC,KAAN,CAAYS,cAAZ,IAA8BR,YAAnD;;AAEA,YAAIS,SAAS,GAAGX,KAAK,CAACY,kBAAN,CAAyBF,cAAzB,EAAyCR,YAAzC,EAAuDhB,GAAvD,EAA4DqB,WAA5D,CAAhB;;AAEAP,QAAAA,KAAK,CAACa,QAAN,CAAe;AACb;AACAN,UAAAA,WAAW,EAAEA,WAFA;AAGbO,UAAAA,kBAAkB,EAAE,IAHP;AAIbC,UAAAA,SAAS,EAAE,eAAe9B,MAAf,CAAsBE,IAAtB,EAA4B,MAA5B,EAAoCF,MAApC,CAA2CC,GAA3C,EAAgD,UAAhD,CAJE;AAKb;AACA8B,UAAAA,OAAO,EAAE,CAAC,CAACf,KAAK,CAACe,OANJ;AAObC,UAAAA,cAAc,EAAEhB,KAAK,CAACO,QAPT;AAQbU,UAAAA,gBAAgB,EAAEjB,KAAK,CAACiB,gBARX;AASbR,UAAAA,cAAc,EAAEA,cATH;AAUbC,UAAAA,SAAS,EAAEA;AAVE,SAAf;AAYD;AACF,KA1Bc,CAAf;;AA4BAX,IAAAA,KAAK,CAACC,KAAN,GAAc;AACZa,MAAAA,kBAAkB,EAAE,KADR;AAEZN,MAAAA,QAAQ,EAAE,IAFE;AAGZO,MAAAA,SAAS,EAAE,IAHC;AAIZC,MAAAA,OAAO,EAAE,KAJG;AAKZC,MAAAA,cAAc,EAAE,IALJ;AAMZ;AACA;AACAd,MAAAA,OAAO,EAAE;AACPC,QAAAA,MAAM,EAAE;AACNjB,UAAAA,IAAI,EAAE,CAAC,IADD;AAEND,UAAAA,GAAG,EAAE,CAAC;AAFA;AADD,OARG;AAcZgC,MAAAA,gBAAgB,EAAE,IAdN;AAeZ;AACAX,MAAAA,WAAW,EAAE,UAhBD;AAiBZG,MAAAA,cAAc,EAAE,IAjBJ;AAkBZC,MAAAA,SAAS,EAAE,IAlBC;AAmBZhC,MAAAA,WAAW,EAAE;AAnBD,KAAd;AAqBAqB,IAAAA,KAAK,CAACmB,aAAN,GAAsBpD,WAAW,CAACiC,KAAK,CAACmB,aAAN,CAAoBC,IAApB,CAAyBvG,sBAAsB,CAACmF,KAAD,CAA/C,CAAD,CAAjC;AACA,WAAOA,KAAP;AACD;;AAEDpF,EAAAA,YAAY,CAACgF,KAAD,EAAQ,CAAC;AACnBtD,IAAAA,GAAG,EAAE,mBADc;AAEnB+E,IAAAA,KAAK,EAAE,SAASC,iBAAT,GAA6B;AAClC,WAAKC,WAAL,CAAiB,KAAKxB,KAAtB;AACA,WAAKyB,oBAAL,CAA0B,KAAKzB,KAA/B;AACD;AALkB,GAAD,EAMjB;AACDzD,IAAAA,GAAG,EAAE,kCADJ;AAED+E,IAAAA,KAAK,EAAE,SAASI,gCAAT,CAA0CC,SAA1C,EAAqD;AAC1D,WAAKH,WAAL,CAAiBG,SAAjB;AACA,WAAKF,oBAAL,CAA0BE,SAA1B;AACD;AALA,GANiB,EAYjB;AACDpF,IAAAA,GAAG,EAAE,oBADJ;AAED+E,IAAAA,KAAK,EAAE,SAASM,kBAAT,CAA4BC,SAA5B,EAAuCC,SAAvC,EAAkD;AACvD,UAAIC,WAAW,GAAG,KAAK/B,KAAvB;AAAA,UACIgC,eAAe,GAAGD,WAAW,CAACC,eADlC;AAAA,UAEIC,YAAY,GAAGF,WAAW,CAACE,YAF/B;AAGA,UAAIC,WAAW,GAAG,KAAKhC,KAAvB;AAAA,UACIe,OAAO,GAAGiB,WAAW,CAACjB,OAD1B;AAAA,UAEIC,cAAc,GAAGgB,WAAW,CAAChB,cAFjC;AAAA,UAGIC,gBAAgB,GAAGe,WAAW,CAACf,gBAHnC;AAAA,UAIIJ,kBAAkB,GAAGmB,WAAW,CAACnB,kBAJrC;;AAMA,UAAIe,SAAS,CAACb,OAAV,KAAsBA,OAAtB,IAAiCe,eAArC,EAAsD;AACpDA,QAAAA,eAAe,CAAC;AACdf,UAAAA,OAAO,EAAEA,OADK;AAEdC,UAAAA,cAAc,EAAEA,cAFF;AAGdC,UAAAA,gBAAgB,EAAEA;AAHJ,SAAD,CAAf;AAKD,OAhBsD,CAgBrD;;;AAGF,UAAI,CAACW,SAAS,CAACf,kBAAX,IAAiCA,kBAAjC,IAAuDkB,YAA3D,EAAyE;AACvEA,QAAAA,YAAY;AACb;AACF;AAxBA,GAZiB,EAqCjB;AACD1F,IAAAA,GAAG,EAAE,sBADJ;AAED+E,IAAAA,KAAK,EAAE,SAASa,oBAAT,GAAgC;AACrC,WAAKf,aAAL,CAAmBgB,MAAnB;;AAEA,UAAI,KAAK/B,MAAT,EAAiB;AACf,aAAKA,MAAL,CAAYgC,OAAZ;AACD;AACF;AACD;AACJ;AACA;AACA;;AAZK,GArCiB,EAmDjB;AACD9F,IAAAA,GAAG,EAAE,oBADJ;AAED+E,IAAAA,KAAK,EAAE,SAAST,kBAAT,CAA4BF,cAA5B,EAA4C2B,aAA5C,EAA2DC,WAA3D,EAAwE/B,WAAxE,EAAqF;AAC1F,UAAIgC,2BAA2B,GAAG,CAAlC;;AAEA,UAAIC,QAAQ,CAACC,eAAb,EAA8B;AAC5BF,QAAAA,2BAA2B,GAAGC,QAAQ,CAACC,eAAT,CAAyBC,YAAvD;AACD;;AAED,UAAInC,WAAW,KAAK,OAAhB,IAA2B,KAAKR,KAAL,CAAW4C,iBAAX,KAAiC,UAAhE,EAA4E;AAC1E,eAAO,IAAP;AACD;;AAED,UAAIC,cAAc,GAAGvC,IAAI,CAACwC,GAAL,CAASN,2BAAT,EAAsCO,MAAM,CAACC,WAAP,IAAsB,CAA5D,CAArB;AACA,aAAOH,cAAc,GAAGlC,cAAjB,IAAmC2B,aAAa,GAAGC,WAAhB,IAA+BM,cAAc,GAAG,EAAnF,GAAwF;AAC/FA,MAAAA,cAAc,GAAG,EADV,GACe,IADtB;AAED;AACD;AACJ;AACA;AACA;;AApBK,GAnDiB,EAyEjB;AACDtG,IAAAA,GAAG,EAAE,sBADJ;AAED+E,IAAAA,KAAK,EAAE,SAASG,oBAAT,CAA8BzB,KAA9B,EAAqC;AAC1C,UAAIiD,aAAa,GAAGjD,KAAK,CAACiD,aAA1B;;AAEA,UAAIA,aAAa,IAAI,KAAKpE,SAA1B,EAAqC;AACnC,YAAIC,YAAY,GAAG,KAAKD,SAAL,CAAeE,UAAlC;AACA,aAAK+B,QAAL,CAAc;AACZlC,UAAAA,WAAW,EAAE;AACXO,YAAAA,GAAG,EAAEL,YAAY,CAACG,qBAAb,GAAqCE,GAD/B;AAEXC,YAAAA,IAAI,EAAEN,YAAY,CAACG,qBAAb,GAAqCG;AAFhC;AADD,SAAd;AAMD,OARD,MAQO,IAAI,CAAC6D,aAAD,IAAkB,KAAK/C,KAAL,CAAWtB,WAAX,KAA2B,IAAjD,EAAuD;AAC5D,aAAKkC,QAAL,CAAc;AACZlC,UAAAA,WAAW,EAAE;AADD,SAAd;AAGD;AACF;AACD;AACJ;AACA;AACA;AACA;AACA;AACA;AACI;;AA1BC,GAzEiB,EAqGjB;AACDrC,IAAAA,GAAG,EAAE,yBADJ;AAED+E,IAAAA,KAAK,EAAE,SAASZ,uBAAT,CAAiCwC,SAAjC,EAA4C1C,WAA5C,EAAyD;AAC9D,aAAO0C,SAAS,IAAI,CAAb,IAAkB1C,WAAW,KAAK,OAAlC,GAA4CF,IAAI,CAACC,KAAL,CAAW2C,SAAX,CAA5C,GAAoE,CAA3E;AACD;AAJA,GArGiB,EA0GjB;AACD3G,IAAAA,GAAG,EAAE,aADJ;AAED+E,IAAAA,KAAK,EAAE,SAASE,WAAT,CAAqBxB,KAArB,EAA4B;AACjC,UAAI,CAAC,KAAKmD,QAAN,IAAkB,CAAC,KAAKtE,SAAxB,IAAqC,CAAC,KAAKuE,UAA/C,EAA2D;AACzD;AACD;;AAED,UAAI,KAAK/C,MAAT,EAAiB;AACf,aAAKA,MAAL,CAAYgC,OAAZ;AACD,OAPgC,CAO/B;AACF;AACA;;;AAGA,UAAI,CAACrC,KAAK,CAACqD,OAAX,EAAoB;AAClB;AACD,OAdgC,CAc/B;AACF;;;AAGA,UAAIvE,YAAY,GAAGkB,KAAK,CAACiD,aAAN,GAAsB,KAAKE,QAA3B,GAAsC,KAAKtE,SAAL,CAAeE,UAAxE;AACA,UAAIuE,UAAU,GAAG;AACfC,QAAAA,SAAS,EAAEnF,4BAA4B,CAAC4B,KAAK,CAACS,QAAP,CADxB;AAEf+C,QAAAA,QAAQ,EAAE,KAAKpC,aAFA;AAGfqC,QAAAA,QAAQ,EAAE,KAAKrC,aAHA;AAIfsC,QAAAA,SAAS,EAAE;AACTC,UAAAA,UAAU,EAAE;AACVC,YAAAA,OAAO,EAAE;AADC,WADH;AAITC,UAAAA,IAAI,EAAE;AACJD,YAAAA,OAAO,EAAE;AADL,WAJG;AAOTE,UAAAA,MAAM,EAAE;AACNF,YAAAA,OAAO,EAAE,IADH;AAENE,YAAAA,MAAM,EAAE,KAAK9D,KAAL,CAAW8D;AAFb,WAPC;AAWTC,UAAAA,IAAI,EAAE;AACJH,YAAAA,OAAO,EAAE,CAAC,CAAC,KAAK5D,KAAL,CAAWgE,QADlB;AAEJC,YAAAA,cAAc,EAAE,IAFZ;AAGJrB,YAAAA,iBAAiB,EAAE,KAAK5C,KAAL,CAAW4C,iBAH1B;AAIJsB,YAAAA,OAAO,EAAE,CAJL,CAIO;;AAJP,WAXG;AAkBTC,UAAAA,eAAe,EAAE;AACfP,YAAAA,OAAO,EAAE,CAAC,CAAC,KAAK5D,KAAL,CAAWgE,QADP;AAEfI,YAAAA,mBAAmB,EAAE,EAAE,KAAKpE,KAAL,CAAW4C,iBAAX,KAAiC,cAAnC;AAFN;AAlBR,SAJI;AA2BfyB,QAAAA,aAAa,EAAErE,KAAK,CAACiD;AA3BN,OAAjB;AA6BA,UAAIqB,YAAY,GAAGnG,eAAe,CAAC6B,KAAD,CAAlC;;AAEA,UAAIsE,YAAJ,EAAkB;AAChBhB,QAAAA,UAAU,CAACI,SAAX,CAAqBK,IAArB,CAA0BQ,QAA1B,GAAqCD,YAArC;AACD;;AAED,WAAKjE,MAAL,GAAc,IAAIpC,MAAJ,CAAWa,YAAX,EAAyB,KAAKsE,UAA9B,EAA0CE,UAA1C,CAAd;AACD;AAzDA,GA1GiB,EAoKjB;AACD/G,IAAAA,GAAG,EAAE,QADJ;AAED+E,IAAAA,KAAK,EAAE,SAASkD,MAAT,GAAkB;AACvB,UAAIC,MAAM,GAAG,IAAb;;AAEA,UAAIC,YAAY,GAAG,KAAK1E,KAAxB;AAAA,UACI2E,MAAM,GAAGD,YAAY,CAACC,MAD1B;AAAA,UAEIC,UAAU,GAAGF,YAAY,CAACE,UAF9B;AAGA,UAAIC,YAAY,GAAG,KAAK3E,KAAxB;AAAA,UACIM,WAAW,GAAGqE,YAAY,CAACrE,WAD/B;AAAA,UAEIQ,SAAS,GAAG6D,YAAY,CAAC7D,SAF7B;AAAA,UAGID,kBAAkB,GAAG8D,YAAY,CAAC9D,kBAHtC;AAAA,UAIIH,SAAS,GAAGiE,YAAY,CAACjE,SAJ7B;AAAA,UAKIhC,WAAW,GAAGiG,YAAY,CAACjG,WAL/B;AAMA,UAAIkG,OAAO,GAAG/D,kBAAkB,GAAG,EAAH,GAAQ;AACtC+D,QAAAA,OAAO,EAAE;AAD6B,OAAxC;AAGA,aAAO,aAAajH,KAAK,CAACkH,aAAN,CAAoB,KAApB,EAA2B,IAA3B,EAAiC,aAAalH,KAAK,CAACkH,aAAN,CAAoB,KAApB,EAA2B;AAC3FC,QAAAA,GAAG,EAAE,SAASA,GAAT,CAAaC,KAAb,EAAoB;AACvBR,UAAAA,MAAM,CAAC5F,SAAP,GAAmBoG,KAAnB;AACD;AAH0F,OAA3B,EAI/D,KAAKjF,KAAL,CAAWkF,QAJoD,CAA9C,EAIK,aAAarH,KAAK,CAACkH,aAAN,CAAoBzG,WAApB,EAAiC;AACrEO,QAAAA,SAAS,EAAE,KAAKA,SADqD;AAErED,QAAAA,WAAW,EAAEA;AAFwD,OAAjC,EAGnC,aAAaf,KAAK,CAACkH,aAAN,CAAoB,KAApB,EAA2B;AACzCI,QAAAA,KAAK,EAAE;AACL9F,UAAAA,MAAM,EAAE,MADH;AAELC,UAAAA,KAAK,EAAE;AAFF,SADkC;AAKzC0F,QAAAA,GAAG,EAAE,SAASA,GAAT,CAAaI,KAAb,EAAoB;AACvBX,UAAAA,MAAM,CAACtB,QAAP,GAAkBiC,KAAlB;AACD;AAPwC,OAA3B,CAHsB,CAJlB,EAefR,UAAU,IAAI,aAAa/G,KAAK,CAACkH,aAAN,CAAoB7G,WAApB,EAAiC,IAAjC,CAfZ,EAeoD,aAAaL,KAAK,CAACkH,aAAN,CAAoB1G,gBAApB,EAAsC;AACzHuC,QAAAA,SAAS,EAAEA;AAD8G,OAAtC,EAElF,aAAa/C,KAAK,CAACkH,aAAN,CAAoB,KAApB,EAA2B;AACzCC,QAAAA,GAAG,EAAE,SAASA,GAAT,CAAaK,KAAb,EAAoB;AACvBZ,UAAAA,MAAM,CAACrB,UAAP,GAAoBiC,KAApB;AACD,SAHwC;AAIzCF,QAAAA,KAAK,EAAEnJ,aAAa,CAAC;AACnBmD,UAAAA,GAAG,EAAE,CADc;AAEnBC,UAAAA,IAAI,EAAE,CAFa;AAGnBqB,UAAAA,QAAQ,EAAED,WAHS;AAInBQ,UAAAA,SAAS,EAAEA,SAJQ;AAKnB2D,UAAAA,MAAM,EAAEA;AALW,SAAD,EAMjBG,OANiB;AAJqB,OAA3B,EAWb,KAAK9E,KAAL,CAAWqD,OAXE,CAFqE,CAfjE,CAApB;AA6BD;AA9CA,GApKiB,CAAR,CAAZ;;AAqNA,SAAOxD,KAAP;AACD,CAhSwB,CAgSvB/B,SAhSuB,CAAzB;;AAkSA5C,eAAe,CAAC2E,KAAD,EAAQ,cAAR,EAAwB;AACrCmE,EAAAA,QAAQ,EAAE,IAD2B;AAErCpB,EAAAA,iBAAiB,EAAE,UAFkB;AAGrCsC,EAAAA,QAAQ,EAAE,IAH2B;AAIrC7B,EAAAA,OAAO,EAAE,IAJ4B;AAKrCS,EAAAA,MAAM,EAAE,MAL6B;AAMrC9B,EAAAA,eAAe,EAAE,SAASA,eAAT,GAA2B,CAAE,CANT;AAOrCvB,EAAAA,QAAQ,EAAE,cAP2B;AAQrCkE,EAAAA,MAAM,EAAE,GAR6B;AASrCC,EAAAA,UAAU,EAAE,KATyB;AAUrC3B,EAAAA,aAAa,EAAE,KAVsB;AAWrChB,EAAAA,YAAY,EAAE,SAASA,YAAT,GAAwB,CAAE;AAXH,CAAxB,CAAf;;AAcA,SAASpC,KAAK,IAAIyF,OAAlB","sourcesContent":["import _typeof from \"@babel/runtime/helpers/typeof\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n/* eslint-disable react/prop-types */\nimport React, { Component } from 'react';\nimport styled from 'styled-components';\nimport rafSchedule from 'raf-schd';\nimport Popper from 'popper.js'; // eslint-disable-line import/extensions\n\nimport ScrollBlock from './internal/ScrollBlock';\nimport { getFlipBehavior, positionPropToPopperPosition } from './internal/helpers';\nimport ContentContainer from '../styledContentContainer'; // We create a dummy target when making the menu fixed so that we can force popper.js to use fixed positioning\n// without affecting child layout of the actual target since children of fixed position elements can't use percentage\n// heights/widths.\n\nvar FixedTarget = styled.div.withConfig({\n  displayName: \"Layer__FixedTarget\",\n  componentId: \"qunuuz-0\"\n})([\"\\n  \", \";\\n\"], function (_ref) {\n  var fixedOffset = _ref.fixedOffset,\n      targetRef = _ref.targetRef;\n\n  if (fixedOffset && targetRef) {\n    var actualTarget = targetRef.firstChild;\n    var rect = actualTarget.getBoundingClientRect();\n    return \"\\n        position: fixed;\\n        top: \".concat(fixedOffset.top, \"px;\\n        left: \").concat(fixedOffset.left, \"px;\\n        height: \").concat(rect.height, \"px;\\n        width: \").concat(rect.width, \"px;\\n        z-index: -1;\\n      \");\n  }\n\n  return 'display: none;';\n});\n\nif (process.env.NODE_ENV !== 'production' && !process.env.CI) {\n  // eslint-disable-next-line no-console\n  console.warn('@atlaskit/layer has been deprecated. It is an internal component and should not be used directly.');\n}\n\nvar Layer = /*#__PURE__*/function (_Component) {\n  _inherits(Layer, _Component);\n\n  var _super = _createSuper(Layer);\n\n  // working with extract-react-types\n  function Layer(props) {\n    var _this;\n\n    _classCallCheck(this, Layer);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"popper\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"targetRef\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"contentRef\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"fixedRef\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"extractStyles\", function (state) {\n      if (state) {\n        var popperHeight = state.offsets.popper.height;\n        var left = Math.round(state.offsets.popper.left); // The offset position is sometimes an object and sometimes just a string...\n\n        var cssPosition = _typeof(state.offsets.popper.position) === 'object' ? state.offsets.popper.position.position : state.offsets.popper.position;\n\n        var top = _this.fixPositionTopUnderflow(state.offsets.popper.top, cssPosition);\n\n        var originalHeight = _this.state.originalHeight || popperHeight;\n\n        var maxHeight = _this.calculateMaxHeight(originalHeight, popperHeight, top, cssPosition);\n\n        _this.setState({\n          // position: fixed or absolute\n          cssPosition: cssPosition,\n          hasExtractedStyles: true,\n          transform: \"translate3d(\".concat(left, \"px, \").concat(top, \"px, 0px)\"),\n          // state.flipped is either true or undefined\n          flipped: !!state.flipped,\n          actualPosition: state.position,\n          originalPosition: state.originalPosition,\n          originalHeight: originalHeight,\n          maxHeight: maxHeight\n        });\n      }\n    });\n\n    _this.state = {\n      hasExtractedStyles: false,\n      position: null,\n      transform: null,\n      flipped: false,\n      actualPosition: null,\n      // We set these default offsets to prevent a flash of popper content in the wrong position\n      // which can cause incorrect height calculations. Popper will calculate these values\n      offsets: {\n        popper: {\n          left: -9999,\n          top: -9999\n        }\n      },\n      originalPosition: null,\n      // fix Safari parent width: https://product-fabric.atlassian.net/browse/ED-1784\n      cssPosition: 'absolute',\n      originalHeight: null,\n      maxHeight: null,\n      fixedOffset: null\n    };\n    _this.extractStyles = rafSchedule(_this.extractStyles.bind(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Layer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.applyPopper(this.props);\n      this.calculateFixedOffset(this.props);\n    }\n  }, {\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {\n      this.applyPopper(nextProps);\n      this.calculateFixedOffset(nextProps);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      var _this$props = this.props,\n          onFlippedChange = _this$props.onFlippedChange,\n          onPositioned = _this$props.onPositioned;\n      var _this$state = this.state,\n          flipped = _this$state.flipped,\n          actualPosition = _this$state.actualPosition,\n          originalPosition = _this$state.originalPosition,\n          hasExtractedStyles = _this$state.hasExtractedStyles;\n\n      if (prevState.flipped !== flipped && onFlippedChange) {\n        onFlippedChange({\n          flipped: flipped,\n          actualPosition: actualPosition,\n          originalPosition: originalPosition\n        });\n      } // This flag is set the first time the position is calculated from Popper and applied to the content\n\n\n      if (!prevState.hasExtractedStyles && hasExtractedStyles && onPositioned) {\n        onPositioned();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.extractStyles.cancel();\n\n      if (this.popper) {\n        this.popper.destroy();\n      }\n    }\n    /* Calculate the max height of the popper if it's height is greater than the viewport to prevent\n     * the bottom of the popper not being viewable.\n     * Only works if the popper uses viewport as the boundary and has a fixed position ancestor.\n     */\n\n  }, {\n    key: \"calculateMaxHeight\",\n    value: function calculateMaxHeight(originalHeight, currentHeight, positionTop, cssPosition) {\n      var DocumentElementClientHeight = 0;\n\n      if (document.documentElement) {\n        DocumentElementClientHeight = document.documentElement.clientHeight;\n      }\n\n      if (cssPosition !== 'fixed' || this.props.boundariesElement !== 'viewport') {\n        return null;\n      }\n\n      var viewportHeight = Math.max(DocumentElementClientHeight, window.innerHeight || 0);\n      return viewportHeight < originalHeight && currentHeight + positionTop >= viewportHeight - 50 ? // allow some spacing either side of viewport height\n      viewportHeight - 12 : null;\n    }\n    /* Popper may return either a fixed or absolute position which would be applied to the\n     * content style. In order to overcome clipping issues for overflow containing blocks when\n     * the position is absolute, we create a fixed position wrapper.\n     */\n\n  }, {\n    key: \"calculateFixedOffset\",\n    value: function calculateFixedOffset(props) {\n      var isAlwaysFixed = props.isAlwaysFixed;\n\n      if (isAlwaysFixed && this.targetRef) {\n        var actualTarget = this.targetRef.firstChild;\n        this.setState({\n          fixedOffset: {\n            top: actualTarget.getBoundingClientRect().top,\n            left: actualTarget.getBoundingClientRect().left\n          }\n        });\n      } else if (!isAlwaysFixed && this.state.fixedOffset !== null) {\n        this.setState({\n          fixedOffset: null\n        });\n      }\n    }\n    /* Clamp fixed position to the window for fixed position poppers that flow off the top of the\n     * window.\n     * A fixed position popper is a popper who has an ancestor with position: fixed.\n     *\n     * It is too difficult to fix this for non-fixed position poppers without re-implementing popper's\n     * offset functionality or fixing the issue upstream.\n     */\n    // eslint-disable-next-line class-methods-use-this\n\n  }, {\n    key: \"fixPositionTopUnderflow\",\n    value: function fixPositionTopUnderflow(popperTop, cssPosition) {\n      return popperTop >= 0 || cssPosition !== 'fixed' ? Math.round(popperTop) : 0;\n    }\n  }, {\n    key: \"applyPopper\",\n    value: function applyPopper(props) {\n      if (!this.fixedRef || !this.targetRef || !this.contentRef) {\n        return;\n      }\n\n      if (this.popper) {\n        this.popper.destroy();\n      } // \"new Popper(...)\" operation is very expensive when called on virtual DOM.\n      // This condition reduces the number of calls so we can run our tests faster\n      // (time was reduced from 100s to 13s).\n\n\n      if (!props.content) {\n        return;\n      } // we wrap our target in a div so that we can safely get a reference to it, but we pass the\n      // actual target to popper\n\n\n      var actualTarget = props.isAlwaysFixed ? this.fixedRef : this.targetRef.firstChild;\n      var popperOpts = {\n        placement: positionPropToPopperPosition(props.position),\n        onCreate: this.extractStyles,\n        onUpdate: this.extractStyles,\n        modifiers: {\n          applyStyle: {\n            enabled: false\n          },\n          hide: {\n            enabled: false\n          },\n          offset: {\n            enabled: true,\n            offset: this.props.offset\n          },\n          flip: {\n            enabled: !!this.props.autoFlip,\n            flipVariations: true,\n            boundariesElement: this.props.boundariesElement,\n            padding: 0 // leave 0 pixels between popper and the boundariesElement\n\n          },\n          preventOverflow: {\n            enabled: !!this.props.autoFlip,\n            escapeWithReference: !(this.props.boundariesElement === 'scrollParent')\n          }\n        },\n        positionFixed: props.isAlwaysFixed\n      };\n      var flipBehavior = getFlipBehavior(props);\n\n      if (flipBehavior) {\n        popperOpts.modifiers.flip.behavior = flipBehavior;\n      }\n\n      this.popper = new Popper(actualTarget, this.contentRef, popperOpts);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          zIndex = _this$props2.zIndex,\n          lockScroll = _this$props2.lockScroll;\n      var _this$state2 = this.state,\n          cssPosition = _this$state2.cssPosition,\n          transform = _this$state2.transform,\n          hasExtractedStyles = _this$state2.hasExtractedStyles,\n          maxHeight = _this$state2.maxHeight,\n          fixedOffset = _this$state2.fixedOffset;\n      var opacity = hasExtractedStyles ? {} : {\n        opacity: 0\n      };\n      return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n        ref: function ref(_ref2) {\n          _this2.targetRef = _ref2;\n        }\n      }, this.props.children), /*#__PURE__*/React.createElement(FixedTarget, {\n        targetRef: this.targetRef,\n        fixedOffset: fixedOffset\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          height: '100%',\n          width: '100%'\n        },\n        ref: function ref(_ref3) {\n          _this2.fixedRef = _ref3;\n        }\n      })), lockScroll && /*#__PURE__*/React.createElement(ScrollBlock, null), /*#__PURE__*/React.createElement(ContentContainer, {\n        maxHeight: maxHeight\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        ref: function ref(_ref4) {\n          _this2.contentRef = _ref4;\n        },\n        style: _objectSpread({\n          top: 0,\n          left: 0,\n          position: cssPosition,\n          transform: transform,\n          zIndex: zIndex\n        }, opacity)\n      }, this.props.content)));\n    }\n  }]);\n\n  return Layer;\n}(Component);\n\n_defineProperty(Layer, \"defaultProps\", {\n  autoFlip: true,\n  boundariesElement: 'viewport',\n  children: null,\n  content: null,\n  offset: '0, 0',\n  onFlippedChange: function onFlippedChange() {},\n  position: 'right middle',\n  zIndex: 400,\n  lockScroll: false,\n  isAlwaysFixed: false,\n  onPositioned: function onPositioned() {}\n});\n\nexport { Layer as default };"]},"metadata":{},"sourceType":"module"}