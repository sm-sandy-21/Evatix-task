"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = InternalPortal;

var _react = require("react");

var _reactDom = require("react-dom");

var _portalDomUtils = require("../utils/portal-dom-utils");

function InternalPortal(props) {
  var zIndex = props.zIndex,
      children = props.children;
  var container = (0, _react.useMemo)(function () {
    return (0, _portalDomUtils.createContainer)(zIndex);
  }, [zIndex]);
  (0, _react.useLayoutEffect)(function () {
    (0, _portalDomUtils.appendPortalContainer)(container);
    return function () {
      (0, _portalDomUtils.removePortalContainer)(container);
      (0, _portalDomUtils.removePortalParentContainerIfNoMorePortals)();
    };
  }, [container]);
  return /*#__PURE__*/(0, _reactDom.createPortal)(children, container);
}